# **C++ ä¸­åˆ›å»ºä¸ä½¿ç”¨åº“**

## ä¸€ã€æ ¸å¿ƒç›®æ ‡

åœ¨å¤§å‹ C++ é¡¹ç›®ä¸­ï¼Œå°†é€šç”¨ä»£ç ï¼ˆå¦‚å¼•æ“ã€å·¥å…·ç±»ã€æ•°å­¦åº“ç­‰ï¼‰å°è£…æˆç‹¬ç«‹çš„ **åº“ï¼ˆLibraryï¼‰**ï¼Œä¾›å¤šä¸ªé¡¹ç›®å¤ç”¨ã€‚è¿™ä¸ä»…èƒ½æé«˜ä»£ç æ¨¡å—åŒ–ç¨‹åº¦ï¼Œè¿˜èƒ½å®ç°è·¨é¡¹ç›®å…±äº«å’Œæ··åˆè¯­è¨€å¼€å‘ã€‚

æœ¬æ–‡ä»¥åˆ›å»ºä¸€ä¸ªåä¸º `Engine` çš„é™æ€åº“ï¼Œå¹¶åœ¨ `Game` å¯æ‰§è¡Œé¡¹ç›®ä¸­ä½¿ç”¨å®ƒä¸ºä¾‹ã€‚

## äºŒã€åˆ›å»ºä¸ä½¿ç”¨åº“çš„æ­¥éª¤

### âœ… ç¬¬ä¸€æ­¥ï¼šæ·»åŠ å¤šä¸ªé¡¹ç›®ï¼ˆMultiple Projectsï¼‰

1. **åˆ›å»ºä¸»é¡¹ç›®ï¼ˆå¦‚ Gameï¼‰**
   * ä½¿ç”¨ Visual Studio åˆ›å»ºä¸€ä¸ªå¸¸è§„çš„ C++ å¯æ‰§è¡Œé¡¹ç›®ï¼ˆ`.exe`ï¼‰ï¼Œå‘½åä¸º `Game`ã€‚
   * ç¡®ä¿å…¶é…ç½®ç±»å‹ä¸º **"Application (.exe)"**ã€‚
2. **æ·»åŠ åº“é¡¹ç›®ï¼ˆå¦‚ Engineï¼‰**
   * åœ¨è§£å†³æ–¹æ¡ˆï¼ˆSolutionï¼‰ä¸Šå³é”® â†’ **"Add" â†’ "New Project"**ã€‚
   * åˆ›å»ºä¸€ä¸ªæ–°çš„ **Static Library** é¡¹ç›®ï¼Œå‘½åä¸º `Engine`ã€‚
   * æ³¨æ„**Engineæ–‡ä»¶å¤¹æ˜¯åœ¨Gameæ–‡ä»¶å¤¹é‡Œçš„**
   * ç¡®ä¿å…¶é…ç½®ç±»å‹ä¸º **"Static Library (.lib)"**ã€‚
3. **é¡¹ç›®ç»“æ„ç¤ºä¾‹**
   <pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">text</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>Solution (Game.sln)
   </span>â”œâ”€â”€ Game (Executable)
   <span>â””â”€â”€ Engine (</span><span>Static</span><span> Library)
   </span>    â”œâ”€â”€ src/Engine.cpp
   <span>    â””â”€â”€ </span><span>include</span><span>/Engine.h</span></code></pre></div></div></pre>

### ç¬¬äºŒæ­¥ï¼šé…ç½®å¤´æ–‡ä»¶åŒ…å«è·¯å¾„ï¼ˆInclude Pathsï¼‰

ä¸ºäº†è®© `Game` é¡¹ç›®èƒ½æ­£ç¡®åŒ…å« `Engine` çš„å¤´æ–‡ä»¶ï¼Œåº”é¿å…ä½¿ç”¨**ç›¸å¯¹è·¯å¾„**ï¼ˆæ˜“å› æ–‡ä»¶ç§»åŠ¨å‡ºé”™ï¼‰ï¼Œè€Œä½¿ç”¨**ç»å¯¹åŒ…å«è·¯å¾„**ã€‚

#### âŒ é”™è¯¯æ–¹å¼ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>#</span>include<span> </span>"../../Engine/src/Engine.h"</code></pre></div></div></pre>

> ä¸€æ—¦é¡¹ç›®ç»“æ„è°ƒæ•´ï¼Œè·¯å¾„å°±ä¼šå¤±æ•ˆã€‚

#### âœ… æ­£ç¡®æ–¹å¼ï¼ˆä½¿ç”¨ç¼–è¯‘å™¨åŒ…å«ç›®å½•ï¼‰ï¼š

1. åœ¨ `Game` é¡¹ç›®ä¸Šå³é”® â†’ **Properties** â†’ **C/C++** â†’ **General** â†’ **Additional Include Directories**ã€‚
2. æ·»åŠ  `Engine` é¡¹ç›®çš„å¤´æ–‡ä»¶ç›®å½•è·¯å¾„ï¼Œä¾‹å¦‚ï¼š
   <pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">text</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>$(SolutionDir)Engine\include</span></code></pre></div></div></pre>
3. ä¹‹åå³å¯ä½¿ç”¨ç®€æ´çš„åŒ…å«æ–¹å¼ï¼š
   <pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>#</span>include<span> </span>"Engine.h"</code></pre></div></div></pre>

### ç¬¬ä¸‰æ­¥ï¼šé“¾æ¥åº“æ–‡ä»¶ï¼ˆLinkingï¼‰

Visual Studio æä¾›äº†ä¾¿æ·çš„é¡¹ç›®ä¾èµ–ç®¡ç†åŠŸèƒ½ï¼Œæ— éœ€æ‰‹åŠ¨æŒ‡å®š `.lib` æ–‡ä»¶è·¯å¾„ã€‚

1. **æ·»åŠ é¡¹ç›®å¼•ç”¨ï¼ˆAdd Referenceï¼‰**

   * åœ¨ `Game` é¡¹ç›®ä¸Šå³é”® â†’ **"Add" â†’ "Reference"**ã€‚
   * å‹¾é€‰ `Engine` é¡¹ç›®ï¼Œç‚¹å‡» **OK**ã€‚
2. **è‡ªåŠ¨é“¾æ¥æœºåˆ¶**

   * VS ä¼šè‡ªåŠ¨å°† `Engine.lib` æ·»åŠ åˆ° `Game` çš„é“¾æ¥è¾“å…¥ä¸­ã€‚
   * æ„å»º `Game` æ—¶ï¼Œä¼šè‡ªåŠ¨å…ˆæ„å»º `Engine`ï¼Œç”Ÿæˆ `Engine.lib`ï¼Œå†é“¾æ¥åˆ° `Game.exe`ã€‚
3. **éªŒè¯æ„å»ºé¡ºåº** æ‰§è¡Œ **Clean Solution** åå†æ„å»º `Game`ï¼Œè¾“å‡ºæ—¥å¿—åº”æ˜¾ç¤ºï¼š

   <pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">text</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>1></span><span class="bash">------ Build started: Project: Engine, Configuration: Debug x64 ------</span><span>
   </span><span></span><span>1></span><span class="bash">Engine.vcxproj -> ...Engine.lib</span><span>
   </span><span></span><span>2></span><span class="bash">------ Build started: Project: Game, Configuration: Debug x64 ------</span><span>
   </span><span></span><span>2></span><span class="bash">Game.vcxproj -> ...Game.exe</span></code></pre></div></div></pre>

   > è¿™è¡¨æ˜ `Game` ä¾èµ–äº `Engine`ï¼Œæ„å»ºé¡ºåºæ­£ç¡®ã€‚
   >

---

## ğŸ§© ä¸‰ã€ä»£ç ä½¿ç”¨ç¤ºä¾‹

å‡è®¾ `Engine.h` å®šä¹‰äº†ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>// Engine.h</span><span>
</span><span></span><span>#</span>pragma<span> once</span><span>
</span><span></span><span>namespace</span><span> engine {
</span><span>    </span>void PrintMessage()<span>;
</span>}</code></pre></div></div></pre>

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>// Engine.cpp</span><span>
</span><span></span><span>#</span>include<span> </span>"Engine.h"<span>
</span><span></span><span>#</span>include<span> </span><iostream><span>
</span>
<span></span><span>namespace</span><span> engine {
</span><span>    </span>void PrintMessage() <span>{
</span><span>        </span><span>std</span><span>::</span><span>cout</span><span> << </span><span>"Hello from Engine!"</span><span> << </span><span>std</span><span>::</span><span>endl</span><span>;
</span>    }
}</code></pre></div></div></pre>

åœ¨ `Game` é¡¹ç›®ä¸­è°ƒç”¨ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>// Application.cpp</span><span>
</span><span></span><span>#</span>include<span> </span>"Engine.h"<span>
</span>
<span></span>int main() <span>{
</span><span>    engine::PrintMessage();  </span><span>// è°ƒç”¨åº“å‡½æ•°</span><span>
</span><span>    </span><span>return</span><span> </span>0<span>;
</span>}</code></pre></div></div></pre>

## å››ã€å…³é”®ä¼˜åŠ¿æ€»ç»“


| ä¼˜åŠ¿             | è¯´æ˜                                                 |
| ---------------- | ---------------------------------------------------- |
| **æ¨¡å—åŒ–**       | å°†é€šç”¨åŠŸèƒ½å°è£…ä¸ºç‹¬ç«‹åº“ï¼Œä¾¿äºç»´æŠ¤å’Œå‡çº§ã€‚             |
| **ä»£ç å¤ç”¨**     | å¤šä¸ªé¡¹ç›®å¯å…±äº«åŒä¸€ä¸ªåº“ï¼Œé¿å…é‡å¤ä»£ç ã€‚               |
| **è‡ªåŠ¨æ„å»ºä¾èµ–** | é€šè¿‡â€œé¡¹ç›®å¼•ç”¨â€ï¼ŒVS è‡ªåŠ¨å¤„ç†æ„å»ºé¡ºåºå’Œé“¾æ¥ã€‚        |
| **é¿å…è·¯å¾„é—®é¢˜** | ä½¿ç”¨åŒ…å«ç›®å½•è€Œéç›¸å¯¹è·¯å¾„ï¼Œæå‡é¡¹ç›®å¯ç§»æ¤æ€§ã€‚         |
| **é™æ€é“¾æ¥**     | åº“ä»£ç åœ¨ç¼–è¯‘æ—¶è¢«åµŒå…¥å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ— éœ€é¢å¤–åˆ†å‘`.dll`ã€‚ |

---

## ğŸ“ äº”ã€æ€»ç»“

åœ¨ Visual Studio ä¸­åˆ›å»ºå’Œä½¿ç”¨ C++ åº“ï¼ˆç‰¹åˆ«æ˜¯é™æ€åº“ï¼‰çš„æ ¸å¿ƒæµç¨‹å¦‚ä¸‹ï¼š

1. **åˆ›å»ºå¤šé¡¹ç›®è§£å†³æ–¹æ¡ˆ**ï¼šä¸€ä¸ªå¯æ‰§è¡Œé¡¹ç›®ï¼ˆ`.exe`ï¼‰å’Œä¸€ä¸ªé™æ€åº“é¡¹ç›®ï¼ˆ`.lib`ï¼‰ã€‚
2. **é…ç½®åŒ…å«è·¯å¾„**ï¼šä½¿ç”¨â€œé™„åŠ åŒ…å«ç›®å½•â€è®©ä¸»é¡¹ç›®èƒ½æ‰¾åˆ°åº“çš„å¤´æ–‡ä»¶ã€‚
3. **æ·»åŠ é¡¹ç›®å¼•ç”¨**ï¼šé€šè¿‡â€œAdd Referenceâ€å»ºç«‹ä¾èµ–å…³ç³»ï¼Œå®ç°è‡ªåŠ¨é“¾æ¥ã€‚
4. **äº«å—è‡ªåŠ¨æ„å»º**ï¼šä¿®æ”¹åº“ä»£ç åï¼Œæ„å»ºä¸»é¡¹ç›®ä¼šè‡ªåŠ¨é‡æ–°ç¼–è¯‘åº“å¹¶é“¾æ¥ã€‚

> ğŸ’¡ **æç¤º**ï¼šè¿™ç§æ–¹æ³•ç‰¹åˆ«é€‚ç”¨äºæ¸¸æˆå¼•æ“ã€å·¥å…·åº“ã€æ•°å­¦åº“ç­‰éœ€è¦è·¨é¡¹ç›®å¤ç”¨çš„åœºæ™¯ã€‚æŒæ¡æ­¤æŠ€èƒ½æ˜¯è¿ˆå‘å¤§å‹ C++ é¡¹ç›®å¼€å‘çš„é‡è¦ä¸€æ­¥ã€‚

# linuxä¸Švscodeå¼€å‘æ„å»º

VS Code æœ¬èº«åªæ˜¯ä¸€ä¸ª**ä»£ç ç¼–è¾‘å™¨**ï¼Œå®ƒä¸è´Ÿè´£ç¼–è¯‘æˆ–é“¾æ¥ã€‚çœŸæ­£çš„æ„å»ºå·¥ä½œæ˜¯ç”± **CMakeã€Makeã€GCC/G++ã€Xmake ç­‰å·¥å…·é“¾**å®Œæˆçš„ã€‚VS Code é€šè¿‡æ’ä»¶ï¼ˆå¦‚ CMake Toolsï¼‰æä¾›å¯¹è¿™äº›å·¥å…·çš„**å¯è§†åŒ–æ”¯æŒ**ã€‚


## æ­£ç¡®æ–¹å¼ï¼šä½¿ç”¨æ„å»ºç³»ç»Ÿï¼ˆæ¨è CMakeï¼‰

### ğŸ”§ æ ¸å¿ƒå·¥å…·é“¾


| å·¥å…·                           | ä½œç”¨                                                              |
| ------------------------------ | ----------------------------------------------------------------- |
| **GCC/G++**                    | ç¼–è¯‘å™¨ï¼Œç”¨äºç¼–è¯‘`.cpp` æ–‡ä»¶å’Œé“¾æ¥ `.lib`ï¼ˆLinux ä¸Šå« `.a`ï¼‰é™æ€åº“ |
| **ar**                         | æ‰“åŒ…é™æ€åº“ï¼ˆç”Ÿæˆ`.a` æ–‡ä»¶ï¼‰                                       |
| **CMake**                      | è·¨å¹³å°æ„å»ºç³»ç»Ÿç”Ÿæˆå™¨ï¼Œç”Ÿæˆ`Makefile` æˆ– `Ninja` æ„å»ºè„šæœ¬          |
| **Make/Ninja**                 | æ„å»ºå·¥å…·ï¼Œæ‰§è¡Œç¼–è¯‘å’Œé“¾æ¥å‘½ä»¤                                      |
| **VS Code + CMake Tools æ’ä»¶** | æä¾›ä»£ç å¯¼èˆªã€æ„å»ºã€è°ƒè¯•çš„å›¾å½¢åŒ–ç•Œé¢                              |

---

## ğŸ“Œ å®é™…æ“ä½œæ­¥éª¤ï¼ˆä»¥ CMake ä¸ºä¾‹ï¼‰

å‡è®¾ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">text</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>project/
</span><span>â”œâ”€â”€ Game/                 </span><span># å¯æ‰§è¡Œé¡¹ç›®</span><span>
</span>â”‚   â”œâ”€â”€ src/main.cpp
â”‚   â””â”€â”€ CMakeLists.txt
<span>â”œâ”€â”€ Engine/               </span><span># é™æ€åº“é¡¹ç›®</span><span>
</span><span>â”‚   â”œâ”€â”€ </span><span>include</span><span>/Engine.h
</span>â”‚   â”œâ”€â”€ src/Engine.cpp
â”‚   â””â”€â”€ CMakeLists.txt
<span>â””â”€â”€ CMakeLists.txt        </span><span># æ ¹ CMakeLists.txt</span></code></pre></div></div></pre>

### ç¬¬ä¸€æ­¥ï¼šä¸º `Engine` åˆ›å»ºé™æ€åº“

**`Engine/CMakeLists.txt`**

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cmake</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>cmake_minimum_required(VERSION </span>3.14<span>)
</span>project(Engine)

<span></span><span># åˆ›å»ºé™æ€åº“</span><span>
</span><span>add_library(engine </span><span>STATIC</span><span>
</span>    src/Engine.cpp
)

<span></span><span># æŒ‡å®šå¤´æ–‡ä»¶æœç´¢è·¯å¾„ï¼ˆä¾›å¤–éƒ¨ä½¿ç”¨ï¼‰</span><span>
</span><span>target_include_directories(engine </span><span>PUBLIC</span><span>
</span><span>    ${CMAKE_CURRENT_SOURCE_DIR}/</span><span>include</span><span>
</span>)</code></pre></div></div></pre>

---

### ç¬¬äºŒæ­¥ï¼šåœ¨ `Game` ä¸­ä½¿ç”¨ `Engine` åº“

**`Game/CMakeLists.txt`**

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cmake</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>cmake_minimum_required(VERSION </span>3.14<span>)
</span>project(Game)

<span></span><span># æŸ¥æ‰¾ä¾èµ–ï¼ˆå¯é€‰ï¼Œå¦‚æœ Engine å®‰è£…åˆ°ç³»ç»Ÿè·¯å¾„ï¼‰</span><span>
</span><span></span><span># è¿™é‡Œæˆ‘ä»¬ç›´æ¥æ·»åŠ å­ç›®å½•</span><span>
</span>
<span></span><span># æ·»åŠ  Engine åº“ï¼ˆä½œä¸ºå­é¡¹ç›®ï¼‰</span><span>
</span>add_subdirectory(../Engine ../Engine/build)

<span></span><span># åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶</span><span>
</span>add_executable(game
    src/main.cpp
)

<span></span><span># é“¾æ¥ Engine é™æ€åº“</span><span>
</span>target_link_libraries(game engine)</code></pre></div></div></pre>

---

### ç¬¬ä¸‰æ­¥ï¼šæ ¹ç›®å½• `CMakeLists.txt`ï¼ˆå¯é€‰ï¼‰

**`project/CMakeLists.txt`**

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cmake</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>cmake_minimum_required(VERSION </span>3.14<span>)
</span>project(MyGame)

<span></span><span># è®¾ç½®æ„å»ºè¾“å‡ºç›®å½•</span><span>
</span><span></span><span>set</span><span>(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/</span><span>bin</span><span>)
</span>
<span></span><span># åŒ…å«å­é¡¹ç›®</span><span>
</span>add_subdirectory(Game)</code></pre></div></div></pre>

---

### ç¬¬å››æ­¥ï¼šæ„å»ºé¡¹ç›®

åœ¨ç»ˆç«¯ä¸­æ‰§è¡Œï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">bash</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span># è¿›å…¥é¡¹ç›®æ ¹ç›®å½•</span><span>
</span><span></span><span>cd</span><span> project
</span>
<span></span><span># åˆ›å»ºæ„å»ºç›®å½•</span><span>
</span><span>mkdir build && </span><span>cd</span><span> build
</span>
<span></span><span># ç”Ÿæˆ Makefile</span><span>
</span>cmake ..

<span></span><span># ç¼–è¯‘ï¼ˆè‡ªåŠ¨å…ˆç¼–è¯‘ Engineï¼Œå†ç¼–è¯‘ Gameï¼‰</span><span>
</span>make

<span></span><span># è¿è¡Œ</span><span>
</span>./bin/game</code></pre></div></div></pre>

---

## ğŸ› ï¸ VS Code ä¸­çš„ä½¿ç”¨ä½“éªŒ

1. **å®‰è£…æ’ä»¶**ï¼š
   * **CMake Tools**ï¼ˆç”± Microsoft æä¾›ï¼‰ï¼šæä¾› CMake é…ç½®ã€æ„å»ºã€è°ƒè¯•æŒ‰é’®ã€‚
   * **C/C++**ï¼šæä¾›æ™ºèƒ½è¡¥å…¨ã€è·³è½¬ã€è°ƒè¯•æ”¯æŒã€‚
2. **æ“ä½œæµç¨‹**ï¼š
   * æ‰“å¼€ `project/` ç›®å½•ã€‚
   * CMake Tools ä¼šè‡ªåŠ¨æ£€æµ‹ `CMakeLists.txt`ã€‚
   * ç‚¹å‡»å³ä¸‹è§’ â€œNo Kitâ€ é€‰æ‹©ç¼–è¯‘å™¨ï¼ˆå¦‚ GCCï¼‰ã€‚
   * ç‚¹å‡» â€œConfigure Allâ€ ç”Ÿæˆæ„å»ºç³»ç»Ÿã€‚
   * ç‚¹å‡» â€œBuildâ€ æŒ‰é’®å³å¯ç¼–è¯‘æ•´ä¸ªé¡¹ç›®ã€‚

> âœ… VS Code + CMake Tools çš„ä½“éªŒæ¥è¿‘ Visual Studioï¼Œä½†åº•å±‚æ˜¯åŸºäºæ–‡æœ¬é…ç½®çš„è‡ªåŠ¨åŒ–æ„å»ºã€‚
>


## CMake vs Xmake


| ç‰¹æ€§             | **CMake**              | **Xmake**            |
| ---------------- | ---------------------- | -------------------- |
| **æµè¡Œåº¦**       | â­â­â­â­â­ï¼ˆè¡Œä¸šæ ‡å‡†ï¼‰ | â­â­â­ï¼ˆå›½å†…è¾ƒæµè¡Œï¼‰ |
| **è¯­æ³•**         | å¤æ‚ï¼Œä½†åŠŸèƒ½å¼ºå¤§       | æ›´ç®€æ´ï¼Œç±»ä¼¼ Lua     |
| **è·¨å¹³å°**       | æä½³                   | æä½³                 |
| **VS Code æ”¯æŒ** | å®˜æ–¹æ’ä»¶ï¼Œæ”¯æŒå¥½       | æœ‰æ’ä»¶ï¼Œä½†ç”Ÿæ€è¾ƒå°   |
| **å­¦ä¹ æˆæœ¬**     | è¾ƒé«˜                   | è¾ƒä½                 |

> âœ… **æ¨èé€‰æ‹© CMake**ï¼Œå°¤å…¶æ˜¯åœ¨ Linux æœåŠ¡å™¨ä¸Šï¼Œå®ƒæ˜¯äº‹å®ä¸Šçš„æ ‡å‡†ã€‚

---

## âœ… æ€»ç»“ï¼šVS Code + Linux ä¸Šä½¿ç”¨é™æ€åº“çš„æ­£ç¡®æ–¹å¼


| é—®é¢˜                           | è§£ç­”                                                           |
| ------------------------------ | -------------------------------------------------------------- |
| **ç”¨ä»€ä¹ˆæ›¿ä»£ VS çš„â€œå¼•ç”¨â€ï¼Ÿ** | **CMake çš„ `add_subdirectory` + `target_link_libraries`**      |
| **VS Code èµ·ä»€ä¹ˆä½œç”¨ï¼Ÿ**       | ç¼–è¾‘ä»£ç  + é€šè¿‡æ’ä»¶è°ƒç”¨ CMake/GCC                              |
| **é™æ€åº“æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ**         | `.a` æ–‡ä»¶ï¼ˆå¦‚ `libengine.a`ï¼‰ï¼Œç”± `ar` å‘½ä»¤ç”Ÿæˆ                |
| **å¦‚ä½•é“¾æ¥ï¼Ÿ**                 | åœ¨`CMakeLists.txt` ä¸­ä½¿ç”¨ `target_link_libraries(game engine)` |
| **æ¨èå·¥å…·é“¾ï¼Ÿ**               | **GCC + CMake + Make + VS Code + CMake Tools æ’ä»¶**            |

---

### ğŸ’¡ ä¸€å¥è¯æ€»ç»“ï¼š

> åœ¨ Linux ä¸Šç”¨ VS Code å¼€å‘ C++ï¼Œ**ä¸è¦ä¾èµ–å›¾å½¢åŒ–â€œå¼•ç”¨â€**ï¼Œè€Œæ˜¯ä½¿ç”¨ **CMake ç®¡ç†é¡¹ç›®ä¾èµ–å’Œæ„å»ºæµç¨‹**ï¼ŒVS Code åªæ˜¯ä½ çš„â€œæ™ºèƒ½è®°äº‹æœ¬â€ï¼ŒçœŸæ­£çš„æ„å»ºç”± CMake å’Œ GCC å®Œæˆã€‚
