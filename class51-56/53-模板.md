# C++æ¨¡æ¿Templates


## ä¸€ã€ä»€ä¹ˆæ˜¯æ¨¡æ¿ï¼ˆTemplatesï¼‰

C++ ä¸­çš„ **æ¨¡æ¿ï¼ˆTemplateï¼‰** æ˜¯ä¸€ç§å¼ºå¤§çš„æ³›å‹ç¼–ç¨‹å·¥å…·ï¼Œå®ƒå…è®¸ä½ ç¼–å†™ä¸ç±»å‹æ— å…³çš„ä»£ç ã€‚ç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘æ—¶æ ¹æ®ä½ ä½¿ç”¨çš„å…·ä½“ç±»å‹ï¼Œè‡ªåŠ¨â€œå®ä¾‹åŒ–â€å‡ºå¯¹åº”çš„å‡½æ•°æˆ–ç±»ã€‚

> ğŸ’¡ **æ ¸å¿ƒæ€æƒ³**ï¼šå†™ä¸€æ¬¡ä»£ç ï¼Œé€‚ç”¨äºå¤šç§ç±»å‹ã€‚

ä¸å…¶å®ƒè¯­è¨€çš„â€œæ³›å‹â€ç›¸æ¯”ï¼ŒC++ æ¨¡æ¿æ›´å¼ºå¤§ï¼Œå› ä¸ºå®ƒåœ¨ç¼–è¯‘æ—¶è¿›è¡Œâ€œå…ƒç¼–ç¨‹â€ï¼Œå¯ä»¥ç”Ÿæˆé’ˆå¯¹ä¸åŒç±»å‹çš„é«˜åº¦ä¼˜åŒ–ä»£ç ã€‚


## äºŒã€æ¨¡æ¿çš„ä¸¤ç§ä¸»è¦å½¢å¼

### 1ï¸âƒ£ å‡½æ•°æ¨¡æ¿ï¼ˆFunction Templatesï¼‰

ç”¨äºåˆ›å»ºèƒ½å¤„ç†å¤šç§ç±»å‹çš„é€šç”¨å‡½æ•°ã€‚

#### åŸºæœ¬è¯­æ³•ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>template</span><span> <</span><span>typename</span><span> T>
</span>è¿”å›ç±»å‹ å‡½æ•°å(T å‚æ•°) {
<span>    </span><span>// å‡½æ•°ä½“</span><span>
</span>}</code></pre></div></div></pre>

#### ç¤ºä¾‹ï¼šé€šç”¨æ‰“å°å‡½æ•°

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>#</span>include<span> </span><iostream><span>
</span><span></span><span>#</span>include<span> </span><string><span>
</span>
<span></span><span>// å®šä¹‰ä¸€ä¸ªå‡½æ•°æ¨¡æ¿</span><span>
</span><span></span><span>template</span><span> <</span><span>typename</span><span> T>
</span><span></span>void Print(T value) <span>{
</span><span>    </span><span>std</span><span>::</span><span>cout</span><span> << value << </span><span>std</span><span>::</span><span>endl</span><span>;
</span>}

<span></span>int main() <span>{
</span><span>    Print(</span>5<span>);           </span><span>// è°ƒç”¨ Print<int>(5)</span><span>
</span><span>    Print(</span><span>"Hello"</span><span>);     </span><span>// è°ƒç”¨ Print<const char*>(const char*)</span><span>
</span><span>    Print(</span>3.14f<span>);       </span><span>// è°ƒç”¨ Print<float>(3.14f)</span><span>
</span><span>    </span><span>return</span><span> </span>0<span>;
</span>}</code></pre></div></div></pre>

> âœ… ç¼–è¯‘å™¨ä¼šä¸º `int`ã€`const char*`ã€`float` åˆ†åˆ«ç”Ÿæˆä¸‰ä¸ªä¸åŒçš„ `Print` å‡½æ•°ã€‚

---

### 2ï¸âƒ£ ç±»æ¨¡æ¿ï¼ˆClass Templatesï¼‰

ç”¨äºåˆ›å»ºèƒ½å¤„ç†å¤šç§ç±»å‹çš„é€šç”¨ç±»ã€‚

#### åŸºæœ¬è¯­æ³•ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>template</span><span> <</span><span>typename</span><span> T, </span><span>int</span><span> N>
</span><span></span>class ç±»å {<span>
</span><span>    T data[N]; </span><span>// ä½¿ç”¨æ¨¡æ¿å‚æ•°</span><span>
</span>};</code></pre></div></div></pre>

#### ç¤ºä¾‹ï¼šå›ºå®šå¤§å°çš„é€šç”¨æ•°ç»„ç±»

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>template</span><span> <</span><span>typename</span><span> T, </span><span>int</span><span> N>
</span><span></span>class Array {<span>
</span><span></span><span>private</span><span>:
</span>    T m_Array[N];
<span></span><span>public</span><span>:
</span><span>    </span>int GetSize() const <span>{
</span><span>        </span><span>return</span><span> N;
</span>    }

<span>    T& </span><span>operator</span><span>[](</span><span>int</span><span> index) {
</span><span>        </span><span>return</span><span> m_Array[index];
</span>    }
};

<span></span>int main() <span>{
</span><span>    Array<</span><span>int</span><span>, </span>5<span>> intArray;           </span><span>// å­˜æ”¾5ä¸ªintçš„æ•°ç»„</span><span>
</span><span>    Array<</span><span>std</span><span>::</span><span>string</span><span>, </span>3<span>> strArray;   </span><span>// å­˜æ”¾3ä¸ªstringçš„æ•°ç»„</span><span>
</span>
<span>    </span><span>std</span><span>::</span><span>cout</span><span> << </span><span>"intArray size: "</span><span> << intArray.GetSize() << </span><span>std</span><span>::</span><span>endl</span><span>; </span><span>// 5</span><span>
</span><span>    </span><span>std</span><span>::</span><span>cout</span><span> << </span><span>"strArray size: "</span><span> << strArray.GetSize() << </span><span>std</span><span>::</span><span>endl</span><span>; </span><span>// 3</span><span>
</span>
<span>    intArray[</span>0<span>] = </span>10<span>;
</span><span>    strArray[</span>0<span>] = </span><span>"Hello"</span><span>;
</span>
<span>    </span><span>std</span><span>::</span><span>cout</span><span> << intArray[</span>0<span>] << </span><span>", "</span><span> << strArray[</span>0<span>] << </span><span>std</span><span>::</span><span>endl</span><span>; </span><span>// 10, Hello</span><span>
</span>
<span>    </span><span>return</span><span> </span>0<span>;
</span>}</code></pre></div></div></pre>

> âœ… è¿™ç±»ä¼¼äº `std::array<T, N>` çš„ç®€åŒ–ç‰ˆã€‚


## å››ã€å®Œæ•´å¯è¿è¡Œä»£ç ï¼ˆåŒ…å«æ‰€æœ‰ç¤ºä¾‹ï¼‰

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>#</span>include<span> </span><iostream><span>
</span><span></span><span>#</span>include<span> </span><string><span>
</span>
<span></span><span>// ==================== 1. å‡½æ•°æ¨¡æ¿ ====================</span><span>
</span><span></span><span>template</span><span> <</span><span>typename</span><span> T>
</span><span></span>void Print(T value) <span>{
</span><span>    </span><span>std</span><span>::</span><span>cout</span><span> << value << </span><span>std</span><span>::</span><span>endl</span><span>;
</span>}

<span></span><span>// ==================== 2. ç±»æ¨¡æ¿ - é€šç”¨æ•°ç»„ ====================</span><span>
</span><span></span><span>template</span><span> <</span><span>typename</span><span> T, </span><span>int</span><span> N>
</span><span></span>class Array {<span>
</span><span></span><span>private</span><span>:
</span>    T m_Array[N];
<span></span><span>public</span><span>:
</span><span>    </span>int GetSize() const <span>{
</span><span>        </span><span>return</span><span> N;
</span>    }

<span>    T& </span><span>operator</span><span>[](</span><span>int</span><span> index) {
</span><span>        </span><span>return</span><span> m_Array[index];
</span>    }
};

<span></span><span>// ==================== 3. ç±»æ¨¡æ¿ - å›ºå®šç¼“å†²åŒº ====================</span><span>
</span><span></span><span>template</span><span> <</span><span>int</span><span> N>
</span><span></span>class FixedBuffer {<span>
</span><span></span><span>private</span><span>:
</span><span>    </span><span>char</span><span> buffer[N];
</span><span></span><span>public</span><span>:
</span><span>    </span>void Set(char c) <span>{
</span><span>        </span><span>for</span><span> (</span><span>int</span><span> i = </span>0<span>; i < N; ++i)
</span>            buffer[i] = c;
    }
<span>    </span>int Size() const <span>{ </span><span>return</span><span> N; }
</span>};

<span></span><span>// ==================== ä¸»å‡½æ•°æµ‹è¯• ====================</span><span>
</span><span></span>int main() <span>{
</span><span>    </span><span>std</span><span>::</span><span>cout</span><span> << </span><span>"=== å‡½æ•°æ¨¡æ¿ ==="</span><span> << </span><span>std</span><span>::</span><span>endl</span><span>;
</span><span>    Print(</span>5<span>);
</span><span>    Print(</span><span>"Hello"</span><span>);
</span><span>    Print(</span>3.14f<span>);
</span>
<span>    </span><span>std</span><span>::</span><span>cout</span><span> << </span><span>"\n=== ç±»æ¨¡æ¿ï¼šArray ==="</span><span> << </span><span>std</span><span>::</span><span>endl</span><span>;
</span><span>    Array<</span><span>int</span><span>, </span>5<span>> intArray;
</span><span>    Array<</span><span>std</span><span>::</span><span>string</span><span>, </span>3<span>> strArray;
</span>
<span>    </span><span>std</span><span>::</span><span>cout</span><span> << </span><span>"intArray size: "</span><span> << intArray.GetSize() << </span><span>std</span><span>::</span><span>endl</span><span>;
</span><span>    </span><span>std</span><span>::</span><span>cout</span><span> << </span><span>"strArray size: "</span><span> << strArray.GetSize() << </span><span>std</span><span>::</span><span>endl</span><span>;
</span>
<span>    intArray[</span>0<span>] = </span>42<span>;
</span><span>    strArray[</span>0<span>] = </span><span>"World"</span><span>;
</span><span>    </span><span>std</span><span>::</span><span>cout</span><span> << intArray[</span>0<span>] << </span><span>", "</span><span> << strArray[</span>0<span>] << </span><span>std</span><span>::</span><span>endl</span><span>;
</span>
<span>    </span><span>std</span><span>::</span><span>cout</span><span> << </span><span>"\n=== ç±»æ¨¡æ¿ï¼šFixedBuffer ==="</span><span> << </span><span>std</span><span>::</span><span>endl</span><span>;
</span><span>    FixedBuffer<</span>8<span>> smallBuf;
</span><span>    FixedBuffer<</span>64<span>> largeBuf;
</span>
<span>    </span><span>std</span><span>::</span><span>cout</span><span> << </span><span>"smallBuf size: "</span><span> << smallBuf.Size() << </span><span>std</span><span>::</span><span>endl</span><span>;  </span><span>// 8</span><span>
</span><span>    </span><span>std</span><span>::</span><span>cout</span><span> << </span><span>"largeBuf size: "</span><span> << largeBuf.Size() << </span><span>std</span><span>::</span><span>endl</span><span>;  </span><span>// 64</span><span>
</span>
<span>    </span><span>return</span><span> </span>0<span>;
</span>}</code></pre></div></div></pre>


## ä¸‰ã€æ¨¡æ¿å‚æ•°çš„å¤šæ ·æ€§

æ¨¡æ¿ä¸ä»…å¯ä»¥æ¥å—**ç±»å‹å‚æ•°**ï¼ˆ`typename T`ï¼‰ï¼Œè¿˜å¯ä»¥æ¥å—**éç±»å‹å‚æ•°**ï¼ˆå¦‚æ•´æ•°ã€æŒ‡é’ˆç­‰ï¼‰ã€‚

#### ç¤ºä¾‹ï¼šä»…ä½¿ç”¨æ•´æ•°ä½œä¸ºæ¨¡æ¿å‚æ•°

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code data-spm-anchor-id="5176.28103460.0.i19.49f02e31CElpBX"><span>template</span><span> <</span><span>int</span><span> N>
</span><span></span>class FixedBuffer {<span>
</span><span></span><span>private</span><span>:
</span><span>    </span><span>char</span><span> buffer[N];
</span><span></span><span>public</span><span>:
</span><span>    </span>void Set(char c) <span>{
</span><span>        </span><span>for</span><span> (</span><span>int</span><span> i = </span>0<span>; i < N; ++i)
</span>            buffer[i] = c;
    }
<span>    </span>int Size() const <span>{ </span><span>return</span><span> N; }
</span>};

<span></span>int main() <span>{
</span><span>    FixedBuffer<</span>10<span>> buf1;
</span><span>    FixedBuffer<</span>100<span>> buf2;
</span>
<span>    </span><span>std</span><span>::</span><span>cout</span><span> << </span><span>"buf1 size: "</span><span> << buf1.Size() << </span><span>std</span><span>::</span><span>endl</span><span>; </span><span>// 10</span><span>
</span><span>    </span><span>std</span><span>::</span><span>cout</span><span> << </span><span>"buf2 size: "</span><span> << buf2.Size() << </span><span>std</span><span>::</span><span>endl</span><span>; </span><span>// 100</span><span>
</span>
<span>    </span><span>return</span><span> </span>0<span>;
</span>}</code></pre></div></div></pre>

> âœ… `N` æ˜¯ä¸€ä¸ªç¼–è¯‘æ—¶å¸¸é‡ï¼Œå†³å®šäº†æ•°ç»„å¤§å°ã€‚


## äº”ã€æ¨¡æ¿çš„å…³é”®ç‰¹æ€§æ€»ç»“


| ç‰¹æ€§             | è¯´æ˜                                                             |
| ---------------- | ---------------------------------------------------------------- |
| **ç¼–è¯‘æ—¶å®ä¾‹åŒ–** | æ¨¡æ¿ä»£ç åªåœ¨è¢«è°ƒç”¨æ—¶æ‰ç”Ÿæˆå®é™…å‡½æ•°/ç±»ï¼Œå¦åˆ™ä¸ç”Ÿæˆã€‚              |
| **é›¶è¿è¡Œæ—¶å¼€é”€** | ç”Ÿæˆçš„æ˜¯å…·ä½“ç±»å‹çš„ä»£ç ï¼Œæ€§èƒ½ä¸æ‰‹å†™ä¸€æ ·ã€‚                         |
| **æ”¯æŒå¤šç§å‚æ•°** | å¯ä»¥æ˜¯ç±»å‹ï¼ˆ`typename T`ï¼‰ã€æ•´æ•°ï¼ˆ`int N`ï¼‰ã€ç”šè‡³å‡½æ•°æŒ‡é’ˆã€‚      |
| **å…ƒç¼–ç¨‹èƒ½åŠ›**   | åœ¨ç¼–è¯‘æ—¶â€œç¼–ç¨‹â€ï¼Œå®ç°é«˜åº¦çµæ´»çš„é€šç”¨ä»£ç ã€‚                       |
| **STL çš„åŸºç¡€**   | `std::vector<T>`ã€`std::array<T,N>`ã€`std::list<T>` ç­‰éƒ½æ˜¯æ¨¡æ¿ã€‚ |


## å…­ã€ä½¿ç”¨å»ºè®®ï¼ˆCherno è§‚ç‚¹ï¼‰

* âœ… **æ¨èä½¿ç”¨åœºæ™¯**ï¼š
  * æ—¥å¿—ç³»ç»Ÿï¼ˆæ‰“å°ä»»æ„ç±»å‹ï¼‰
  * å®¹å™¨ç±»ï¼ˆå¦‚ `Array<T, N>`ï¼‰
  * å·¥å…·å‡½æ•°ï¼ˆå¦‚ `Max<T>`, `Swap<T>`ï¼‰
  * æ¸¸æˆå¼•æ“ä¸­çš„æè´¨ã€èµ„æºç®¡ç†ç­‰
* âŒ **é¿å…æ»¥ç”¨**ï¼š
  * ä¸è¦ä¸ºäº†â€œç‚«æŠ€â€è€Œå†™å¤æ‚çš„æ¨¡æ¿
  * æ¨¡æ¿è¿‡æ·±ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯éš¾ä»¥ç†è§£
  * å›¢é˜Ÿåä½œä¸­åº”ä¿æŒç®€æ´å’Œå¯è¯»æ€§

> ğŸ’¬ **Cherno çš„è§‚ç‚¹**ï¼š
> â€œæ¨¡æ¿ä¸åº”è¯¥è¢«å®Œå…¨ç¦æ­¢ï¼Œä½†ä¹Ÿä¸åº”è¯¥æ»¥ç”¨ã€‚æ‰‹åŠ¨å†™ä¸€äº›ä»£ç ï¼Œåè€Œèƒ½è®©å›¢é˜Ÿæ›´å¥½åœ°ç†è§£å’Œç»´æŠ¤ã€‚â€


## ä¸ƒã€ç»“è®º

C++ æ¨¡æ¿æ˜¯å®ç°**æ³›å‹ç¼–ç¨‹**çš„æ ¸å¿ƒå·¥å…·ï¼š

* ä½¿ç”¨ `template <typename T>` åˆ›å»ºé€šç”¨å‡½æ•°å’Œç±»ã€‚
* æ”¯æŒç±»å‹å’Œéç±»å‹å‚æ•°ï¼Œçµæ´»æ€§æé«˜ã€‚
* æ˜¯ STL çš„åŸºçŸ³ï¼Œå¹¿æ³›åº”ç”¨äºç°ä»£ C++ å¼€å‘ã€‚
* æ¨èåœ¨éœ€è¦**ç±»å‹é€šç”¨æ€§**çš„åœºæ™¯ä¸­ä½¿ç”¨ï¼Œä½†åº”é¿å…è¿‡åº¦å¤æ‚åŒ–ã€‚

> âœ… **æœ€ä½³å®è·µ**ï¼šä»ç®€å•çš„å‡½æ•°æ¨¡æ¿å¼€å§‹ï¼Œé€æ­¥æŒæ¡ç±»æ¨¡æ¿ï¼Œåœ¨é¡¹ç›®ä¸­åˆç†ä½¿ç”¨ï¼Œæå‡ä»£ç å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚

# ä¸ºä»€ä¹ˆç”¨æ¨¡æ¿


## é—®é¢˜é‡è¿°

æˆ‘ä»¬æœ‰è¿™æ ·ä¸€ä¸ªç±»ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>template</span><span> <</span><span>int</span><span> N>
</span><span></span>class FixedBuffer {<span>
</span><span></span><span>private</span><span>:
</span><span>    </span><span>char</span><span> buffer[N];
</span><span></span><span>public</span><span>:
</span><span>    </span>void Set(char c) <span>{
</span><span>        </span><span>for</span><span> (</span><span>int</span><span> i = </span>0<span>; i < N; ++i)
</span>            buffer[i] = c;
    }
<span>    </span>int Size() const <span>{ </span><span>return</span><span> N; }
</span>};</code></pre></div></div></pre>

ä½ é—®ï¼š**æ—¢ç„¶ `N` æ˜¯ä¸€ä¸ªæ­£æ•´æ•°ï¼Œä¸ºä»€ä¹ˆä¸å†™æˆè¿™æ ·ï¼Ÿ**

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code>class FixedBuffer {<span>
</span><span></span><span>private</span><span>:
</span><span>    </span><span>int</span><span> size;
</span><span>    </span><span>char</span><span>* buffer;  </span><span>// æˆ– std::vector<char></span><span>
</span><span></span><span>public</span><span>:
</span><span>    FixedBuffer(</span><span>int</span><span> n) : size(n), buffer(</span><span>new</span><span> </span><span>char</span><span>[n]) {}
</span><span>    ~FixedBuffer() { </span><span>delete</span><span>[] buffer; }
</span><span>    </span>void Set(char c)<span>;
</span><span>    </span>int Size() const <span>{ </span><span>return</span><span> size; }
</span>};</code></pre></div></div></pre>


## ä¸ºä»€ä¹ˆä½¿ç”¨æ¨¡æ¿ `template<int N>` æ›´å¥½ï¼Ÿ

### 1. **å†…å­˜åˆ†é…ä½ç½®ä¸åŒï¼šæ ˆ vs å †**


| æ–¹å¼                | å†…å­˜ä½ç½®     | æ€§èƒ½                        | å®‰å…¨æ€§                      |
| ------------------- | ------------ | --------------------------- | --------------------------- |
| `template<int N>`   | **æ ˆä¸Šåˆ†é…** | âš¡ æå¿«ï¼Œæ— åŠ¨æ€åˆ†é…å¼€é”€     | âœ… æ— å†…å­˜æ³„æ¼é£é™©           |
| æ„é€ å‡½æ•°ä¼ å‚`int n` | **å †ä¸Šåˆ†é…** | âš ï¸ è¾ƒæ…¢ï¼ˆ`new`/`delete`ï¼‰ | âŒ å¯èƒ½å†…å­˜æ³„æ¼ï¼Œéœ€æ‰‹åŠ¨ç®¡ç† |

> âœ… **ä¼˜åŠ¿**ï¼šæ¨¡æ¿ç‰ˆæœ¬åœ¨æ ˆä¸Šåˆ†é… `buffer[N]`ï¼Œ**æ— éœ€åŠ¨æ€å†…å­˜ç®¡ç†**ï¼Œæ€§èƒ½æ›´é«˜ï¼Œæ›´å®‰å…¨ã€‚

---

### 2. **å¤§å°åœ¨ç¼–è¯‘æ—¶å·²çŸ¥ â†’ ç¼–è¯‘å™¨å¯ä¼˜åŒ–**

å½“ `N` æ˜¯æ¨¡æ¿å‚æ•°æ—¶ï¼Œå®ƒæ˜¯ä¸€ä¸ª**ç¼–è¯‘æ—¶å¸¸é‡**ã€‚

è¿™æ„å‘³ç€ç¼–è¯‘å™¨å¯ä»¥åœ¨ç¼–è¯‘æ—¶è¿›è¡Œå¤§é‡ä¼˜åŒ–ï¼š

* **å¾ªç¯å±•å¼€ï¼ˆLoop Unrollingï¼‰**ï¼š

  <pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>for</span><span> (</span><span>int</span><span> i = </span>0<span>; i < N; ++i) buffer[i] = c;</span></code></pre></div></div></pre>

  å¦‚æœ `N=4`ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼˜åŒ–ä¸ºï¼š

  <pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>buffer[0] = c;
  </span>buffer[1] = c;
  buffer[2] = c;
  buffer[3] = c;</code></pre></div></div></pre>

  å®Œå…¨æ¶ˆé™¤å¾ªç¯å¼€é”€ã€‚
* **å†…è”ä¼˜åŒ–**ï¼š`Size()` å¯èƒ½è¢«å®Œå…¨å†…è”ä¸ºå¸¸é‡ `N`ã€‚

> âœ… **ä¼˜åŠ¿**ï¼šç”Ÿæˆçš„ä»£ç æ›´é«˜æ•ˆï¼Œæ¥è¿‘æ‰‹å†™æ±‡ç¼–ã€‚

---

### 3. **ç±»å‹å®‰å…¨ä¸æ¥å£çº¦æŸ**

ä½¿ç”¨æ¨¡æ¿ `template<int N>` æ„å‘³ç€ï¼š

* `N` å¿…é¡»åœ¨**ç¼–è¯‘æ—¶ç¡®å®š**ã€‚
* `N` å¿…é¡»æ˜¯**å¸¸é‡è¡¨è¾¾å¼**ï¼ˆå¦‚ `8`, `1024`ï¼Œä¸èƒ½æ˜¯å˜é‡ï¼‰ã€‚

è¿™å¸¦æ¥äº†**è®¾è®¡ä¸Šçš„çº¦æŸ**ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>FixedBuffer<</span>8<span>>  buf1;   </span><span>// âœ… åˆæ³•</span><span>
</span><span>FixedBuffer<</span>100<span>> buf2;  </span><span>// âœ… åˆæ³•</span><span>
</span>
<span></span><span>int</span><span> n = </span>10<span>;
</span><span>FixedBuffer<n> buf3;    </span><span>// âŒ ç¼–è¯‘é”™è¯¯ï¼n ä¸æ˜¯ç¼–è¯‘æ—¶å¸¸é‡</span></code></pre></div></div></pre>

> âœ… **ä¼˜åŠ¿**ï¼šé˜²æ­¢è¿è¡Œæ—¶ä¼ å…¥éæ³•å¤§å°ï¼Œä¿è¯äº†å¯¹è±¡å¤§å°çš„ç¡®å®šæ€§ã€‚

è€Œå¦‚æœç”¨æ„é€ å‡½æ•°ä¼ å‚ï¼Œä½ æ— æ³•é˜»æ­¢ç”¨æˆ·ä¼ å…¥ `new FixedBuffer(-1)` æˆ– `new FixedBuffer(1000000)`ï¼Œå¯èƒ½å¯¼è‡´å´©æºƒæˆ–æ€§èƒ½é—®é¢˜ã€‚

---

### 4. **æ¯ä¸ª `N` ç”Ÿæˆç‹¬ç«‹ç±»å‹**

æ¨¡æ¿ä¸ºæ¯ä¸ªä¸åŒçš„ `N` ç”Ÿæˆä¸€ä¸ª**ç‹¬ç«‹çš„ç±»ç±»å‹**ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code><span>FixedBuffer<</span>8<span>>  a;
</span><span>FixedBuffer<</span>16<span>> b;
</span><span>FixedBuffer<</span>8<span>>  c;
</span>
<span></span><span>// a å’Œ c æ˜¯åŒä¸€ç±»å‹ï¼Œb æ˜¯ä¸åŒç±»å‹</span><span>
</span><span></span><span>static_assert</span><span>(</span><span>std</span><span>::is_same_v<</span><span>decltype</span><span>(a), </span><span>decltype</span><span>(c)>); </span><span>// âœ…</span><span>
</span><span></span><span>static_assert</span><span>(!</span><span>std</span><span>::is_same_v<</span><span>decltype</span><span>(a), </span><span>decltype</span><span>(b)>); </span><span>// âœ…</span></code></pre></div></div></pre>

è¿™åœ¨æŸäº›åœºæ™¯ä¸‹éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚ï¼š

* ä½ å¯ä»¥ä¸ºç‰¹å®šå¤§å°çš„ç¼“å†²åŒºç‰¹åŒ–æ¨¡æ¿ã€‚
* å¯ä»¥åœ¨ç±»å‹ç³»ç»Ÿä¸­åŒºåˆ†ä¸åŒå¤§å°çš„ç¼“å†²åŒºï¼ˆç±»å‹å®‰å…¨ï¼‰ã€‚

---

### 5. **é›¶æŠ½è±¡æˆæœ¬ï¼ˆZero-Cost Abstractionï¼‰**

è¿™æ˜¯ C++ çš„æ ¸å¿ƒå“²å­¦ä¹‹ä¸€ï¼š**ä½ ä¸ç”¨ä¸ºä¸ç”¨çš„ä¸œè¥¿ä»˜è´¹**ã€‚

* æ¨¡æ¿ç‰ˆæœ¬ï¼šåªä½¿ç”¨æ ˆå†…å­˜ï¼Œæ— æŒ‡é’ˆï¼Œæ— è™šå‡½æ•°ï¼Œæ— åŠ¨æ€åˆ†é…ã€‚
* å‡½æ•°å‚æ•°ç‰ˆæœ¬ï¼šéœ€è¦ `new`/`delete`ï¼Œå¯èƒ½æœ‰å¼‚å¸¸ï¼Œéœ€è¦ææ„å‡½æ•°ã€‚

æ¨¡æ¿ç‰ˆæœ¬åœ¨åŠŸèƒ½ä¸Šæ›´å¼ºå¤§ï¼Œä½†**è¿è¡Œæ—¶å¼€é”€ä¸ºé›¶**ã€‚



## ä»€ä¹ˆæ—¶å€™åº”è¯¥ç”¨â€œæ„é€ å‡½æ•°ä¼ å‚â€ï¼Ÿ

åªæœ‰å½“ä½ éœ€è¦**è¿è¡Œæ—¶å†³å®šå¤§å°**æ—¶ï¼Œæ‰åº”è¯¥ä½¿ç”¨åŠ¨æ€åˆ†é…ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[42px] sticky top-0 z-10 bg-capsule"><div class="flex items-center h-[42px] p-3 text-[14px] border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-sun-line"></use></svg></span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#appicon-copy-line"></use></svg></span></div></div></div><pre><code>class DynamicBuffer {<span>
</span><span>    </span><span>std</span><span>::</span><span>vector</span><span><</span><span>char</span><span>> buffer;
</span><span></span><span>public</span><span>:
</span><span>    DynamicBuffer(</span><span>int</span><span> n) : buffer(n) {}
</span><span>    </span>void Set(char c) <span>{
</span><span>        </span><span>std</span><span>::fill(buffer.begin(), buffer.end(), c);
</span>    }
<span>    </span>size_t Size() const <span>{ </span><span>return</span><span> buffer.size(); }
</span>};</code></pre></div></div></pre>

> âœ… é€‚ç”¨åœºæ™¯ï¼šæ–‡ä»¶å¤§å°ã€ç”¨æˆ·è¾“å…¥ã€ç½‘ç»œæ•°æ®åŒ…ç­‰**å¤§å°æœªçŸ¥**çš„æƒ…å†µã€‚

---

## âœ… æ€»ç»“ï¼šä¸ºä»€ä¹ˆç”¨ `template<int N>`ï¼Ÿ


| å¯¹æ¯”é¡¹         | `template<int N>`ï¼ˆæ¨¡æ¿ï¼‰          | æ„é€ å‡½æ•°ä¼ å‚                |
| -------------- | ---------------------------------- | --------------------------- |
| **å†…å­˜ä½ç½®**   | æ ˆï¼ˆStackï¼‰                        | å †ï¼ˆHeapï¼‰                  |
| **æ€§èƒ½**       | âš¡ æå¿«ï¼ˆæ— åŠ¨æ€åˆ†é…ï¼‰              | âš ï¸ è¾ƒæ…¢ï¼ˆ`new`/`delete`ï¼‰ |
| **ç¼–è¯‘æ—¶ä¼˜åŒ–** | âœ… å¯å¾ªç¯å±•å¼€ã€å†…è”                | âŒ éš¾ä»¥ä¼˜åŒ–                 |
| **ç±»å‹å®‰å…¨**   | âœ… å¤§å°å¿…é¡»æ˜¯ç¼–è¯‘æ—¶å¸¸é‡            | âŒ å¯ä¼ å…¥ä»»æ„æ•´æ•°           |
| **å†…å­˜å®‰å…¨**   | âœ… æ— æ³„æ¼é£é™©                      | âŒ éœ€æ‰‹åŠ¨ç®¡ç†æˆ–ç”¨æ™ºèƒ½æŒ‡é’ˆ   |
| **é€‚ç”¨åœºæ™¯**   | å›ºå®šå¤§å°çš„ç¼“å†²åŒºï¼ˆå¦‚å¸§å¤´ã€åè®®åŒ…ï¼‰ | å¤§å°åœ¨è¿è¡Œæ—¶æ‰çŸ¥é“          |

> ğŸ’¡ **ç»“è®º**ï¼š å¦‚æœä½ çŸ¥é“ç¼“å†²åŒºçš„å¤§å°æ˜¯å›ºå®šçš„ï¼ˆæ¯”å¦‚ 8 å­—èŠ‚ã€16 å­—èŠ‚ã€1024 å­—èŠ‚ï¼‰ï¼Œ**ä½¿ç”¨ `template<int N>` æ˜¯æ›´é«˜æ•ˆã€æ›´å®‰å…¨ã€æ›´ç°ä»£ C++ çš„åšæ³•**ã€‚å®ƒåˆ©ç”¨äº†ç¼–è¯‘æ—¶ä¿¡æ¯ï¼Œç”Ÿæˆäº†æœ€ä¼˜ä»£ç ã€‚
>
> è€Œâ€œä¼ å‚â€æ–¹å¼é€‚ç”¨äºå¤§å°**åŠ¨æ€å¯å˜**çš„åœºæ™¯ã€‚



### ç±»æ¯”ï¼š`std::array` vs `std::vector`

* `std::array<char, N>` â†’ å¯¹åº” `template<int N>` ç‰ˆæœ¬ï¼ˆæ ˆä¸Šï¼Œå›ºå®šå¤§å°ï¼‰
* `std::vector<char>` â†’ å¯¹åº”æ„é€ å‡½æ•°ä¼ å‚ç‰ˆæœ¬ï¼ˆå †ä¸Šï¼ŒåŠ¨æ€å¤§å°ï¼‰


## ä¸€å¥è¯ç†è§£

> **C++ æ¨¡æ¿å°±åƒæ˜¯ä¸€ä¸ªâ€œåœ¨ç¼–è¯‘é˜¶æ®µè¿è¡Œçš„ä»£ç ç”Ÿæˆå‡½æ•°â€ï¼Œå®ƒæ ¹æ®ç±»å‹æˆ–å¸¸é‡å‚æ•°ï¼Œä¸ºä½ å®šåˆ¶å‡ºæœ€é«˜æ•ˆçš„ä¸“ç”¨ä»£ç ã€‚**
