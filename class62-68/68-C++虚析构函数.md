# C++ è™šææ„å‡½æ•°ï¼ˆVirtual Destructorsï¼‰è¯´æ˜ä¸æ€»ç»“

## ä¸€ã€é—®é¢˜èƒŒæ™¯ï¼šä¸ºä»€ä¹ˆéœ€è¦è™šææ„å‡½æ•°ï¼Ÿ

åœ¨ C++ ä¸­ï¼Œ**é€šè¿‡åŸºç±»æŒ‡é’ˆåˆ é™¤æ´¾ç”Ÿç±»å¯¹è±¡**æ˜¯ä¸€ç§å¸¸è§å¤šæ€ç”¨æ³•ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span>Base</span><span class="token">*</span><span> obj </span><span class="token">=</span><span> </span><span class="token">new</span><span> </span><span class="token">Derived</span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span>
</span><span></span><span class="token">delete</span><span> obj</span><span class="token">;</span><span> </span><span class="token">// âš ï¸ å¦‚æœ ~Base() ä¸æ˜¯ virtualï¼Œä¼šå‡ºå¤§é—®é¢˜ï¼</span></code></pre></div></div></pre>

å¦‚æœæ²¡æœ‰è™šææ„å‡½æ•°ï¼š

* **åªä¼šè°ƒç”¨ `Base` çš„ææ„å‡½æ•°**
* **ä¸ä¼šè°ƒç”¨ `Derived` çš„ææ„å‡½æ•°**
* **å¯¼è‡´èµ„æºæ³„æ¼ï¼ˆå¦‚æœªé‡Šæ”¾çš„å†…å­˜ã€æ–‡ä»¶å¥æŸ„ç­‰ï¼‰**

> ğŸ’¥ è¿™æ˜¯ C++ ä¸­ç»å…¸çš„â€œæœªå®šä¹‰è¡Œä¸ºâ€é™·é˜±ä¹‹ä¸€ã€‚

## äºŒã€æ ¸å¿ƒè§„åˆ™

> **å¦‚æœä½ çš„ç±»æ‰“ç®—è¢«ç»§æ‰¿ï¼ˆå³ä½œä¸ºåŸºç±»ï¼‰ï¼Œå¹¶ä¸”å¯èƒ½é€šè¿‡åŸºç±»æŒ‡é’ˆåˆ é™¤æ´¾ç”Ÿç±»å¯¹è±¡ï¼Œé‚£ä¹ˆå¿…é¡»å°†ææ„å‡½æ•°å£°æ˜ä¸º `virtual`ã€‚**

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span class="token">class</span><span> </span><span class="token">Base</span><span> </span><span class="token">{</span><span>
</span><span></span><span class="token">public</span><span class="token">:</span><span>
</span><span>    </span><span class="token">virtual</span><span> </span><span class="token">~</span><span class="token">Base</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">=</span><span> </span><span class="token">default</span><span class="token">;</span><span> </span><span class="token">// âœ… æ­£ç¡®åšæ³•</span><span>
</span><span></span><span class="token">}</span><span class="token">;</span></code></pre></div></div></pre>

## ä¸‰ã€åŸç†ç®€æ

* ææ„å‡½æ•°æœ¬è´¨ä¸Šä¹Ÿæ˜¯å‡½æ•°ã€‚
* å½“æ ‡è®°ä¸º `virtual` åï¼ŒC++ ä¼šåœ¨è¿è¡Œæ—¶é€šè¿‡**è™šå‡½æ•°è¡¨ï¼ˆvtableï¼‰** åŠ¨æ€åˆ†å‘è°ƒç”¨ã€‚
* åˆ é™¤å¯¹è±¡æ—¶ï¼Œä¼š**ä»æœ€æ´¾ç”Ÿç±»å¼€å§‹ï¼Œé€å±‚å‘ä¸Šè°ƒç”¨æ‰€æœ‰ææ„å‡½æ•°**ï¼ˆå…ˆ `~Derived()`ï¼Œå† `~Base()`ï¼‰ã€‚

## å››ã€å¯è¿è¡Œå®Œæ•´ä»£ç ç¤ºä¾‹

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span class="token macro directive-hash">#</span><span class="token macro">include</span><span class="token macro"> </span><span class="token macro"><iostream></span><span>
</span><span></span><span class="token macro directive-hash">#</span><span class="token macro">include</span><span class="token macro"> </span><span class="token macro"><memory></span><span>
</span>
<span></span><span class="token">// ========================================</span><span>
</span><span></span><span class="token">// æƒ…å†µ1ï¼šæ²¡æœ‰è™šææ„å‡½æ•° â†’ å†…å­˜æ³„æ¼ï¼</span><span>
</span><span></span><span class="token">// ========================================</span><span>
</span><span></span><span class="token">class</span><span> </span><span class="token">BaseBad</span><span> </span><span class="token">{</span><span>
</span><span></span><span class="token">public</span><span class="token">:</span><span>
</span><span>    </span><span class="token">BaseBad</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">{</span><span> std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"BaseBad æ„é€ \n"</span><span class="token">;</span><span> </span><span class="token">}</span><span>
</span><span>    </span><span class="token">~</span><span class="token">BaseBad</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">{</span><span> std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"BaseBad ææ„\n"</span><span class="token">;</span><span> </span><span class="token">}</span><span> </span><span class="token">// âŒ éè™šææ„</span><span>
</span><span></span><span class="token">}</span><span class="token">;</span><span>
</span>
<span></span><span class="token">class</span><span> </span><span class="token">DerivedBad</span><span> </span><span class="token">:</span><span> </span><span class="token base-clause">public</span><span class="token base-clause"> </span><span class="token base-clause">BaseBad</span><span> </span><span class="token">{</span><span>
</span><span></span><span class="token">private</span><span class="token">:</span><span>
</span><span>    </span><span class="token">int</span><span class="token">*</span><span> data</span><span class="token">;</span><span>
</span><span></span><span class="token">public</span><span class="token">:</span><span>
</span><span>    </span><span class="token">DerivedBad</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">{</span><span>
</span><span>        data </span><span class="token">=</span><span> </span><span class="token">new</span><span> </span><span class="token">int</span><span class="token">[</span><span class="token">100</span><span class="token">]</span><span class="token">;</span><span> </span><span class="token">// åˆ†é…èµ„æº</span><span>
</span><span>        std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"DerivedBad æ„é€ ï¼ˆåˆ†é…äº†å†…å­˜ï¼‰\n"</span><span class="token">;</span><span>
</span><span>    </span><span class="token">}</span><span>
</span><span>    </span><span class="token">~</span><span class="token">DerivedBad</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">{</span><span>
</span><span>        </span><span class="token">delete</span><span class="token">[</span><span class="token">]</span><span> data</span><span class="token">;</span><span> </span><span class="token">// é‡Šæ”¾èµ„æº</span><span>
</span><span>        std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"DerivedBad ææ„ï¼ˆé‡Šæ”¾äº†å†…å­˜ï¼‰\n"</span><span class="token">;</span><span>
</span><span>    </span><span class="token">}</span><span>
</span><span></span><span class="token">}</span><span class="token">;</span><span>
</span>
<span></span><span class="token">// ========================================</span><span>
</span><span></span><span class="token">// æƒ…å†µ2ï¼šæœ‰è™šææ„å‡½æ•° â†’ å®‰å…¨ï¼</span><span>
</span><span></span><span class="token">// ========================================</span><span>
</span><span></span><span class="token">class</span><span> </span><span class="token">BaseGood</span><span> </span><span class="token">{</span><span>
</span><span></span><span class="token">public</span><span class="token">:</span><span>
</span><span>    </span><span class="token">BaseGood</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">{</span><span> std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"BaseGood æ„é€ \n"</span><span class="token">;</span><span> </span><span class="token">}</span><span>
</span><span>    </span><span class="token">virtual</span><span> </span><span class="token">~</span><span class="token">BaseGood</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">{</span><span> std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"BaseGood ææ„\n"</span><span class="token">;</span><span> </span><span class="token">}</span><span> </span><span class="token">// âœ… è™šææ„</span><span>
</span><span></span><span class="token">}</span><span class="token">;</span><span>
</span>
<span></span><span class="token">class</span><span> </span><span class="token">DerivedGood</span><span> </span><span class="token">:</span><span> </span><span class="token base-clause">public</span><span class="token base-clause"> </span><span class="token base-clause">BaseGood</span><span> </span><span class="token">{</span><span>
</span><span></span><span class="token">private</span><span class="token">:</span><span>
</span><span>    </span><span class="token">int</span><span class="token">*</span><span> data</span><span class="token">;</span><span>
</span><span></span><span class="token">public</span><span class="token">:</span><span>
</span><span>    </span><span class="token">DerivedGood</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">{</span><span>
</span><span>        data </span><span class="token">=</span><span> </span><span class="token">new</span><span> </span><span class="token">int</span><span class="token">[</span><span class="token">100</span><span class="token">]</span><span class="token">;</span><span>
</span><span>        std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"DerivedGood æ„é€ ï¼ˆåˆ†é…äº†å†…å­˜ï¼‰\n"</span><span class="token">;</span><span>
</span><span>    </span><span class="token">}</span><span>
</span><span>    </span><span class="token">~</span><span class="token">DerivedGood</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">{</span><span>
</span><span>        </span><span class="token">delete</span><span class="token">[</span><span class="token">]</span><span> data</span><span class="token">;</span><span>
</span><span>        std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"DerivedGood ææ„ï¼ˆé‡Šæ”¾äº†å†…å­˜ï¼‰\n"</span><span class="token">;</span><span>
</span><span>    </span><span class="token">}</span><span>
</span><span></span><span class="token">}</span><span class="token">;</span><span>
</span>
<span></span><span class="token">// ========================================</span><span>
</span><span></span><span class="token">// ä¸»å‡½æ•°æ¼”ç¤º</span><span>
</span><span></span><span class="token">// ========================================</span><span>
</span><span></span><span class="token">int</span><span> </span><span class="token">main</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">{</span><span>
</span><span>    std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"========== æƒ…å†µ1ï¼šæ— è™šææ„ï¼ˆå±é™©ï¼ï¼‰==========\n"</span><span class="token">;</span><span>
</span><span>    </span><span class="token">{</span><span>
</span><span>        BaseBad</span><span class="token">*</span><span> ptr </span><span class="token">=</span><span> </span><span class="token">new</span><span> </span><span class="token">DerivedBad</span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span>
</span><span>        </span><span class="token">delete</span><span> ptr</span><span class="token">;</span><span> </span><span class="token">// âŒ åªè°ƒç”¨ BaseBad::~BaseBad()</span><span>
</span><span>        </span><span class="token">// DerivedBad::~DerivedBad() æœªè¢«è°ƒç”¨ â†’ å†…å­˜æ³„æ¼ï¼</span><span>
</span><span>    </span><span class="token">}</span><span>
</span><span>    std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"\n"</span><span class="token">;</span><span>
</span>
<span>    std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"========== æƒ…å†µ2ï¼šæœ‰è™šææ„ï¼ˆå®‰å…¨ï¼ï¼‰==========\n"</span><span class="token">;</span><span>
</span><span>    </span><span class="token">{</span><span>
</span><span>        BaseGood</span><span class="token">*</span><span> ptr </span><span class="token">=</span><span> </span><span class="token">new</span><span> </span><span class="token">DerivedGood</span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span>
</span><span>        </span><span class="token">delete</span><span> ptr</span><span class="token">;</span><span> </span><span class="token">// âœ… å…ˆè°ƒç”¨ DerivedGood::~DerivedGood()ï¼Œå†è°ƒç”¨ BaseGood::~BaseGood()</span><span>
</span><span>    </span><span class="token">}</span><span>
</span><span>    std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"\n"</span><span class="token">;</span><span>
</span>
<span>    std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"========== ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼ˆæ¨èå®è·µï¼‰==========\n"</span><span class="token">;</span><span>
</span><span>    </span><span class="token">{</span><span>
</span><span>        </span><span class="token">// å³ä½¿ä½¿ç”¨ unique_ptrï¼ŒåŸºç±»ä»éœ€è™šææ„ï¼</span><span>
</span><span>        std</span><span class="token double-colon">::</span><span>unique_ptr</span><span class="token"><</span><span>BaseGood</span><span class="token">></span><span> smart_ptr </span><span class="token">=</span><span> std</span><span class="token double-colon">::</span><span class="token generic-function">make_unique</span><span class="token generic-function generic"><</span><span class="token generic-function generic">DerivedGood</span><span class="token generic-function generic">></span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span>
</span><span>        </span><span class="token">// è‡ªåŠ¨ deleteï¼Œä¸”æ­£ç¡®è°ƒç”¨ä¸¤ä¸ªææ„å‡½æ•°</span><span>
</span><span>    </span><span class="token">}</span><span>
</span>
<span>    </span><span class="token">return</span><span> </span><span class="token">0</span><span class="token">;</span><span>
</span><span></span><span class="token">}</span></code></pre></div></div></pre>



## ä¸ƒã€å…³é”®æ€»ç»“


| åœºæ™¯                                 | æ˜¯å¦éœ€è¦è™šææ„ï¼Ÿ | åŸå›                                    |
| ------------------------------------ | ---------------- | -------------------------------------- |
| ç±»ä½œä¸ºåŸºç±»ï¼Œä¸”ä¼šè¢«ç»§æ‰¿               | âœ… å¿…é¡»          | é˜²æ­¢é€šè¿‡åŸºç±»æŒ‡é’ˆåˆ é™¤æ—¶æ¼æ‰æ´¾ç”Ÿç±»ææ„   |
| ç±»æ˜¯ final æˆ–ä¸è¢«ç»§æ‰¿                | âŒ ä¸éœ€è¦        | è™šå‡½æ•°æœ‰è½»å¾®æ€§èƒ½/å†…å­˜å¼€é”€ï¼ˆvtableï¼‰    |
| ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆï¼ˆå¦‚`unique_ptr<Base>`ï¼‰ | âœ… ä»éœ€è¦        | æ™ºèƒ½æŒ‡é’ˆå†…éƒ¨ä»æ‰§è¡Œ`delete`ï¼Œä¾èµ–è™šææ„ |
| æ¥å£ç±»ï¼ˆçº¯è™šå‡½æ•°ï¼‰                   | âœ… å¼ºçƒˆå»ºè®®      | é€šå¸¸ä½œä¸ºåŸºç±»ä½¿ç”¨                       |


## å…«ã€æœ€ä½³å®è·µå»ºè®®

1. **åªè¦ç±»æœ‰è™šå‡½æ•°ï¼ˆå¦‚ç”¨äºå¤šæ€ï¼‰ï¼Œå°±åŠ ä¸Šè™šææ„å‡½æ•°**
   ï¼ˆå› ä¸ºæœ‰è™šå‡½æ•°æ„å‘³ç€å®ƒå¾ˆå¯èƒ½è¢«ç»§æ‰¿ï¼‰
2. **å¦‚æœç±»è®¾è®¡ä¸ºåŸºç±»ï¼Œå³ä½¿å½“å‰æ²¡æœ‰è™šå‡½æ•°ï¼Œä¹Ÿåº”å£°æ˜è™šææ„å‡½æ•°**
3. **ç°ä»£ C++ æ¨èé…åˆæ™ºèƒ½æŒ‡é’ˆä½¿ç”¨**ï¼š
   <pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span>std</span><span class="token double-colon">::</span><span>unique_ptr</span><span class="token"><</span><span>Base</span><span class="token">></span><span> p </span><span class="token">=</span><span> std</span><span class="token double-colon">::</span><span class="token generic-function">make_unique</span><span class="token generic-function generic"><</span><span class="token generic-function generic">Derived</span><span class="token generic-function generic">></span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span>
   </span><span></span><span class="token">// è‡ªåŠ¨ç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼Œä½†ä»ä¾èµ–è™šææ„ç¡®ä¿æ­£ç¡®ææ„</span></code></pre></div></div></pre>
4. **ä¸è¦å¯¹éå¤šæ€ç±»æ»¥ç”¨è™šææ„** â€”â€” ä¼šå¼•å…¥ä¸å¿…è¦çš„ vtable å¼€é”€



## ä¹ã€å¸¸è§è¯¯åŒº


| è¯¯åŒº                                 | æ­£ç¡®ç†è§£                                      |
| ------------------------------------ | --------------------------------------------- |
| â€œæˆ‘ç”¨çš„æ˜¯æ ˆå¯¹è±¡ï¼Œä¸éœ€è¦è™šææ„â€     | æ­£ç¡®ï¼Œä½†è‹¥æœªæ¥æœ‰äººæ”¹ç”¨å † + åŸºç±»æŒ‡é’ˆï¼Œå°±ä¼šå‡ºé”™ |
| â€œæ™ºèƒ½æŒ‡é’ˆä¼šè‡ªåŠ¨å¤„ç†ï¼Œä¸éœ€è¦è™šææ„â€ | âŒ é”™ï¼æ™ºèƒ½æŒ‡é’ˆä»ä¾èµ–æ­£ç¡®çš„ææ„é“¾             |
| â€œåªæœ‰æ´¾ç”Ÿç±»æœ‰èµ„æºæ‰éœ€è¦â€           | âŒ å³ä½¿ç°åœ¨æ²¡æœ‰ï¼Œæœªæ¥æ‰©å±•å¯èƒ½æœ‰ï¼Œåº”æå‰è®¾è®¡å¥½ |

---

## ğŸ¯ åã€ä¸€å¥è¯æ€»ç»“

> **â€œå½“ä½ å†™ä¸€ä¸ªæ‰“ç®—è¢«ç»§æ‰¿çš„ç±»æ—¶ï¼Œ100% åº”è¯¥å°†ææ„å‡½æ•°å£°æ˜ä¸º virtual â€”â€” è¿™æ˜¯ C++ å¤šæ€å®‰å…¨çš„åŸºçŸ³ã€‚â€**


# åŸºç±»æŒ‡é’ˆæŒ‡å‘å­ç±»å®ä¾‹,å¤šæ€çš„åŸå› 

**ä¸ºäº†å®ç°å¤šæ€ï¼ˆPolymorphismï¼‰å’Œç¼–å†™é€šç”¨ã€å¯æ‰©å±•çš„ä»£ç ã€‚**


## ä¸€ã€æ ¸å¿ƒåŠ¨æœºï¼šç»Ÿä¸€æ¥å£ï¼Œå¤„ç†ä¸åŒç±»å‹çš„å¯¹è±¡

å‡è®¾ä½ æ­£åœ¨å¼€å‘ä¸€ä¸ªå›¾å½¢ç¼–è¾‘å™¨ï¼Œè¦ç»˜åˆ¶å¤šç§å›¾å½¢ï¼š

* `Circle`
* `Rectangle`
* `Triangle`

### âŒ å¦‚æœä¸ç”¨åŸºç±»æŒ‡é’ˆï¼ˆåé¢æ•™æï¼‰ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span>Circle c</span><span class="token">;</span><span>
</span><span>Rectangle r</span><span class="token">;</span><span>
</span><span>Triangle t</span><span class="token">;</span><span>
</span>
<span>c</span><span class="token">.</span><span class="token">draw</span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span>
</span><span>r</span><span class="token">.</span><span class="token">draw</span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span>
</span><span>t</span><span class="token">.</span><span class="token">draw</span><span class="token">(</span><span class="token">)</span><span class="token">;</span></code></pre></div></div></pre>

é—®é¢˜æ¥äº†ï¼š

* **æ— æ³•ç»Ÿä¸€ç®¡ç†**ï¼šä¸èƒ½æŠŠå®ƒä»¬æ”¾è¿›åŒä¸€ä¸ªå®¹å™¨ï¼ˆå¦‚ `std::vector`ï¼‰
* **æ— æ³•å†™é€šç”¨é€»è¾‘**ï¼šæ¯”å¦‚â€œç»˜åˆ¶æ‰€æœ‰å›¾å½¢â€éœ€è¦ä¸ºæ¯ç§ç±»å‹å†™é‡å¤ä»£ç 
* **æ‰©å±•å›°éš¾**ï¼šæ–°å¢ `Star` ç±»ï¼Ÿæ‰€æœ‰åœ°æ–¹éƒ½è¦æ”¹ï¼


## äºŒã€æ­£ç¡®åšæ³•ï¼šç”¨åŸºç±»æŒ‡é’ˆ + è™šå‡½æ•°ï¼ˆå¤šæ€ï¼‰

### æ­¥éª¤1ï¼šå®šä¹‰æŠ½è±¡åŸºç±»ï¼ˆæ¥å£ï¼‰

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span class="token">class</span><span> </span><span class="token">Shape</span><span> </span><span class="token">{</span><span>
</span><span></span><span class="token">public</span><span class="token">:</span><span>
</span><span>    </span><span class="token">virtual</span><span> </span><span class="token">~</span><span class="token">Shape</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">=</span><span> </span><span class="token">default</span><span class="token">;</span><span>           </span><span class="token">// è™šææ„ï¼ˆå®‰å…¨ï¼ï¼‰</span><span>
</span><span>    </span><span class="token">virtual</span><span> </span><span class="token">void</span><span> </span><span class="token">draw</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">const</span><span> </span><span class="token">=</span><span> </span><span class="token">0</span><span class="token">;</span><span>        </span><span class="token">// çº¯è™šå‡½æ•° â†’ æŠ½è±¡ç±»</span><span>
</span><span></span><span class="token">}</span><span class="token">;</span></code></pre></div></div></pre>

### æ­¥éª¤2ï¼šæ´¾ç”Ÿå…·ä½“ç±»

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span class="token">class</span><span> </span><span class="token">Circle</span><span> </span><span class="token">:</span><span> </span><span class="token base-clause">public</span><span class="token base-clause"> </span><span class="token base-clause">Shape</span><span> </span><span class="token">{</span><span>
</span><span></span><span class="token">public</span><span class="token">:</span><span>
</span><span>    </span><span class="token">void</span><span> </span><span class="token">draw</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">const</span><span> </span><span class="token">override</span><span> </span><span class="token">{</span><span> std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"ç»˜åˆ¶åœ†å½¢\n"</span><span class="token">;</span><span> </span><span class="token">}</span><span>
</span><span></span><span class="token">}</span><span class="token">;</span><span>
</span>
<span></span><span class="token">class</span><span> </span><span class="token">Rectangle</span><span> </span><span class="token">:</span><span> </span><span class="token base-clause">public</span><span class="token base-clause"> </span><span class="token base-clause">Shape</span><span> </span><span class="token">{</span><span>
</span><span></span><span class="token">public</span><span class="token">:</span><span>
</span><span>    </span><span class="token">void</span><span> </span><span class="token">draw</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">const</span><span> </span><span class="token">override</span><span> </span><span class="token">{</span><span> std</span><span class="token double-colon">::</span><span>cout </span><span class="token"><<</span><span> </span><span class="token">"ç»˜åˆ¶çŸ©å½¢\n"</span><span class="token">;</span><span> </span><span class="token">}</span><span>
</span><span></span><span class="token">}</span><span class="token">;</span></code></pre></div></div></pre>

### æ­¥éª¤3ï¼šç”¨åŸºç±»æŒ‡é’ˆç»Ÿä¸€ç®¡ç†

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span>std</span><span class="token double-colon">::</span><span>vector</span><span class="token"><</span><span>Shape</span><span class="token">*</span><span class="token">></span><span> shapes</span><span class="token">;</span><span>
</span><span>shapes</span><span class="token">.</span><span class="token">push_back</span><span class="token">(</span><span class="token">new</span><span> </span><span class="token">Circle</span><span class="token">(</span><span class="token">)</span><span class="token">)</span><span class="token">;</span><span>
</span><span>shapes</span><span class="token">.</span><span class="token">push_back</span><span class="token">(</span><span class="token">new</span><span> </span><span class="token">Rectangle</span><span class="token">(</span><span class="token">)</span><span class="token">)</span><span class="token">;</span><span>
</span>
<span></span><span class="token">// é€šç”¨é€»è¾‘ï¼šéå†å¹¶ç»˜åˆ¶æ‰€æœ‰å›¾å½¢</span><span>
</span><span></span><span class="token">for</span><span> </span><span class="token">(</span><span>Shape</span><span class="token">*</span><span> s </span><span class="token">:</span><span> shapes</span><span class="token">)</span><span> </span><span class="token">{</span><span>
</span><span>    s</span><span class="token">-></span><span class="token">draw</span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span> </span><span class="token">// âœ… åŠ¨æ€ç»‘å®šï¼šè‡ªåŠ¨è°ƒç”¨ Circle::draw æˆ– Rectangle::draw</span><span>
</span><span></span><span class="token">}</span></code></pre></div></div></pre>

> ğŸ”¥ è¿™å°±æ˜¯**è¿è¡Œæ—¶å¤šæ€**ï¼š**åŒä¸€æ®µä»£ç ï¼Œæ ¹æ®å¯¹è±¡å®é™…ç±»å‹æ‰§è¡Œä¸åŒè¡Œä¸ºã€‚**


## ä¸‰ã€ä¸ºä»€ä¹ˆä¸èƒ½ç”¨â€œå­ç±»æŒ‡é’ˆâ€ï¼Ÿ

å› ä¸ºï¼š

> **ä½ å¾€å¾€åœ¨ç¼–è¯‘æ—¶ä¸çŸ¥é“å…·ä½“æ˜¯ä»€ä¹ˆå­ç±»ï¼**

### å®é™…åœºæ™¯ä¸¾ä¾‹ï¼š

#### åœºæ™¯1ï¼šå·¥å‚æ¨¡å¼ï¼ˆFactoryï¼‰

ç”¨æˆ·ç‚¹å‡»æŒ‰é’®åˆ›å»ºå›¾å½¢ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span>Shape</span><span class="token">*</span><span> </span><span class="token">createShape</span><span class="token">(</span><span>std</span><span class="token double-colon">::</span><span>string type</span><span class="token">)</span><span> </span><span class="token">{</span><span>
</span><span>    </span><span class="token">if</span><span> </span><span class="token">(</span><span>type </span><span class="token">==</span><span> </span><span class="token">"circle"</span><span class="token">)</span><span> </span><span class="token">return</span><span> </span><span class="token">new</span><span> </span><span class="token">Circle</span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span>
</span><span>    </span><span class="token">if</span><span> </span><span class="token">(</span><span>type </span><span class="token">==</span><span> </span><span class="token">"rect"</span><span class="token">)</span><span>   </span><span class="token">return</span><span> </span><span class="token">new</span><span> </span><span class="token">Rectangle</span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span>
</span><span>    </span><span class="token">// ... å¯èƒ½æœ‰å‡ åç§å›¾å½¢</span><span>
</span><span>    </span><span class="token">return</span><span> </span><span class="token">nullptr</span><span class="token">;</span><span>
</span><span></span><span class="token">}</span><span>
</span>
<span></span><span class="token">// è°ƒç”¨è€…ä¸éœ€è¦çŸ¥é“å…·ä½“ç±»å‹</span><span>
</span><span>Shape</span><span class="token">*</span><span> shape </span><span class="token">=</span><span> </span><span class="token">createShape</span><span class="token">(</span><span>userInput</span><span class="token">)</span><span class="token">;</span><span>
</span><span>shape</span><span class="token">-></span><span class="token">draw</span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span> </span><span class="token">// åŸºç±»æŒ‡é’ˆè°ƒç”¨ï¼Œä½†æ‰§è¡Œçš„æ˜¯å­ç±»æ–¹æ³•</span></code></pre></div></div></pre>

â†’ **è¿”å›å€¼å¿…é¡»æ˜¯ `Shape*`ï¼ˆåŸºç±»æŒ‡é’ˆï¼‰**ï¼Œå¦åˆ™æ— æ³•ç»Ÿä¸€è¿”å›ä¸åŒç±»å‹ã€‚

---

#### åœºæ™¯2ï¼šæ’ä»¶ç³»ç»Ÿ / æ¸¸æˆå®ä½“

æ¸¸æˆåŠ è½½å…³å¡æ—¶ï¼Œä»é…ç½®æ–‡ä»¶è¯»å–æ•Œäººç±»å‹ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">json</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span class="token">{</span><span> </span><span class="token">"enemies"</span><span class="token">:</span><span> </span><span class="token">[</span><span class="token">"Goblin"</span><span class="token">,</span><span> </span><span class="token">"Dragon"</span><span class="token">,</span><span> </span><span class="token">"Skeleton"</span><span class="token">]</span><span> </span><span class="token">}</span></code></pre></div></div></pre>

ä»£ç ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span>std</span><span class="token double-colon">::</span><span>vector</span><span class="token"><</span><span>Enemy</span><span class="token">*</span><span class="token">></span><span> enemies</span><span class="token">;</span><span>
</span><span></span><span class="token">for</span><span> </span><span class="token">(</span><span class="token">auto</span><span class="token">&</span><span> name </span><span class="token">:</span><span> config</span><span class="token">[</span><span class="token">"enemies"</span><span class="token">]</span><span class="token">)</span><span> </span><span class="token">{</span><span>
</span><span>    Enemy</span><span class="token">*</span><span> e </span><span class="token">=</span><span> </span><span class="token">EnemyFactory</span><span class="token double-colon">::</span><span class="token">create</span><span class="token">(</span><span>name</span><span class="token">)</span><span class="token">;</span><span> </span><span class="token">// è¿”å› Goblin*, Dragon* ç­‰</span><span>
</span><span>    enemies</span><span class="token">.</span><span class="token">push_back</span><span class="token">(</span><span>e</span><span class="token">)</span><span class="token">;</span><span> </span><span class="token">// â† å¿…é¡»ç”¨åŸºç±»æŒ‡é’ˆæ‰èƒ½æ”¾è¿›åŒä¸€ä¸ª vectorï¼</span><span>
</span><span></span><span class="token">}</span></code></pre></div></div></pre>

å¦‚æœç”¨å­ç±»æŒ‡é’ˆï¼š

* `Goblin*` å’Œ `Dragon*` æ˜¯**ä¸åŒç±»å‹**ï¼Œä¸èƒ½æ”¾è¿›åŒä¸€ä¸ªå®¹å™¨ï¼›
* ä½ æ— æ³•å†™ `for (auto* e : enemies) e->attack();` è¿™æ ·çš„é€šç”¨ä»£ç ã€‚

---

#### åœºæ™¯3ï¼šæ ‡å‡†åº“ä¸æ¡†æ¶è®¾è®¡

å‡ ä¹æ‰€æœ‰ C++ æ¡†æ¶éƒ½ä¾èµ–æ­¤æ¨¡å¼ï¼š

* GUI åº“ï¼š`QWidget*` æŒ‡å‘ `QPushButton`, `QLabel` ç­‰
* æ¸¸æˆå¼•æ“ï¼š`Entity*` æŒ‡å‘ `Player`, `Bullet`, `Obstacle`
* ç½‘ç»œåº“ï¼š`IProtocolHandler*` æŒ‡å‘ `HttpHandler`, `WebSocketHandler`

**æ¡†æ¶ä½œè€…ä¸çŸ¥é“ä½ ä¼šç»§æ‰¿å‡ºä»€ä¹ˆç±»ï¼Œåªèƒ½ä¾èµ–æŠ½è±¡åŸºç±»æ¥å£ã€‚**



## å››ã€ç±»æ¯”ç†è§£ï¼šç°å®ä¸–ç•Œçš„â€œæ’åº§â€

æƒ³è±¡ç”µå™¨å’Œæ’åº§ï¼š

* æ’åº§ï¼ˆåŸºç±»ï¼‰å®šä¹‰äº†**æ ‡å‡†æ¥å£**ï¼ˆä¸¤ä¸ªå­” or ä¸‰ä¸ªå­”ï¼‰
* ç”µé¥­ç…²ã€å¹é£æœºã€å°ç¯ï¼ˆæ´¾ç”Ÿç±»ï¼‰éƒ½æŒ‰è¿™ä¸ªæ ‡å‡†åšæ’å¤´

ä½ ä¸éœ€è¦çŸ¥é“æ’çš„æ˜¯ä»€ä¹ˆç”µå™¨ï¼Œåªè¦æ’è¿›å»å°±èƒ½ç”¨ã€‚

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span class="token">// æ’åº§ = åŸºç±»æŒ‡é’ˆ</span><span>
</span><span>Socket</span><span class="token">*</span><span> socket </span><span class="token">=</span><span> </span><span class="token">new</span><span> </span><span class="token">Socket</span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span>
</span>
<span></span><span class="token">// ä»»ä½•ç¬¦åˆæ ‡å‡†çš„ç”µå™¨éƒ½èƒ½æ’</span><span>
</span><span>socket</span><span class="token">-></span><span class="token">plugIn</span><span class="token">(</span><span class="token">new</span><span> </span><span class="token">RiceCooker</span><span class="token">(</span><span class="token">)</span><span class="token">)</span><span class="token">;</span><span>   </span><span class="token">// å®é™…æ˜¯ RiceCooker*</span><span>
</span><span>socket</span><span class="token">-></span><span class="token">plugIn</span><span class="token">(</span><span class="token">new</span><span> </span><span class="token">HairDryer</span><span class="token">(</span><span class="token">)</span><span class="token">)</span><span class="token">;</span><span>    </span><span class="token">// å®é™…æ˜¯ HairDryer*</span><span>
</span>
<span></span><span class="token">// æ’åº§åªå…³å¿ƒâ€œæœ‰æ²¡æœ‰æ’å¤´â€ï¼Œä¸å…³å¿ƒâ€œæ˜¯ä»€ä¹ˆç”µå™¨â€</span></code></pre></div></div></pre>

å¦‚æœæ¯ä¸ªç”µå™¨éƒ½è¦ä¸“ç”¨æ’åº§ï¼ˆå­ç±»æŒ‡é’ˆï¼‰ï¼Œå®¶é‡Œå¾—è£…å‡ ç™¾ä¸ªä¸åŒæ¥å£ï¼




## äº”ã€ä»€ä¹ˆæ—¶å€™å¯ä»¥ç”¨å­ç±»æŒ‡é’ˆï¼Ÿ

å½“ç„¶å¯ä»¥ï¼å½“ä½ **æ˜ç¡®çŸ¥é“ç±»å‹ä¸”ä¸éœ€è¦å¤šæ€**æ—¶ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">cpp</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span>Circle c</span><span class="token">;</span><span>
</span><span>c</span><span class="token">.</span><span class="token">draw</span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span> </span><span class="token">// ç›´æ¥è°ƒç”¨ï¼Œæ•ˆç‡ç•¥é«˜ï¼ˆæ— è™šå‡½æ•°å¼€é”€ï¼‰</span><span>
</span>
<span>Circle</span><span class="token">*</span><span> p </span><span class="token">=</span><span> </span><span class="token">new</span><span> </span><span class="token">Circle</span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span>
</span><span>p</span><span class="token">-></span><span class="token">draw</span><span class="token">(</span><span class="token">)</span><span class="token">;</span><span> </span><span class="token">// ä¹Ÿæ˜¯ç›´æ¥è°ƒç”¨ï¼ˆè™½ç„¶æ˜¯æŒ‡é’ˆï¼Œä½†ç±»å‹å·²çŸ¥ï¼‰</span></code></pre></div></div></pre>

âœ… é€‚ç”¨åœºæ™¯ï¼š

* å±€éƒ¨ä½¿ç”¨æŸä¸ªå…·ä½“ç±»
* æ€§èƒ½æåº¦æ•æ„Ÿçš„çƒ­ç‚¹ä»£ç ï¼ˆé¿å…è™šå‡½æ•°å¼€é”€ï¼‰
* ä¸æ¶‰åŠç»§æ‰¿ä½“ç³»çš„ç‹¬ç«‹æ¨¡å—

ä½†ä¸€æ—¦æ¶‰åŠâ€œå¤šç§ç±»å‹ç»Ÿä¸€å¤„ç†â€ï¼Œå°±å¿…é¡»å›åˆ°åŸºç±»æŒ‡é’ˆ + å¤šæ€ã€‚



## å…­ã€æ€»ç»“ï¼šå…³é”®åŒºåˆ«


| æ–¹å¼                                         | é€‚ç”¨åœºæ™¯                   | ä¼˜ç‚¹                                 | ç¼ºç‚¹                         |
| -------------------------------------------- | -------------------------- | ------------------------------------ | ---------------------------- |
| **å­ç±»æŒ‡é’ˆ**<br/>`Circle* p = new Circle();` | å·²çŸ¥å…·ä½“ç±»å‹ï¼Œæ— éœ€å¤šæ€     | æ— è™šå‡½æ•°å¼€é”€ï¼Œç±»å‹å®‰å…¨               | æ— æ³•ç»Ÿä¸€å¤„ç†å¤šç§ç±»å‹         |
| **åŸºç±»æŒ‡é’ˆ**<br/>`Shape* p = new Circle();`  | éœ€è¦å¤šæ€ã€ç»Ÿä¸€æ¥å£ã€å¯æ‰©å±• | ä»£ç é€šç”¨ã€æ˜“ç»´æŠ¤ã€æ”¯æŒè¿è¡Œæ—¶åŠ¨æ€ç±»å‹ | æœ‰è™šå‡½æ•°å¼€é”€ï¼Œéœ€è™šææ„é˜²æ³„æ¼ |

---

## ğŸ’¡ ç»ˆæç­”æ¡ˆï¼š

> **æˆ‘ä»¬ç”¨åŸºç±»æŒ‡é’ˆæŒ‡å‘å­ç±»å¯¹è±¡ï¼Œä¸æ˜¯å› ä¸ºâ€œä¸èƒ½ç”¨å­ç±»æŒ‡é’ˆâ€ï¼Œè€Œæ˜¯å› ä¸ºâ€”â€”**
> **â€œæˆ‘ä»¬æƒ³å†™ä¸€æ®µä»£ç ï¼Œèƒ½è‡ªåŠ¨é€‚é…æœªæ¥ä»»ä½•ç¬¦åˆæ¥å£çš„æ–°ç±»å‹ï¼Œè€Œæ— éœ€ä¿®æ”¹å®ƒã€‚â€**

è¿™å°±æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ **â€œé¢å‘æ¥å£ç¼–ç¨‹ï¼Œè€Œéé¢å‘å®ç°â€** çš„ç²¾é«“ï¼Œä¹Ÿæ˜¯ C++ å¤šæ€çš„æ ¸å¿ƒä»·å€¼ã€‚

> ğŸŒŸ **åŸºç±»æŒ‡é’ˆ + è™šå‡½æ•° = åœ¨è¿è¡Œæ—¶â€œåŠ¨æ€é€‰æ‹©è¡Œä¸ºâ€çš„èƒ½åŠ›ã€‚**


# pythonä¸­çš„å¤šæ€

**Python ä¸­çš„â€œå¤šæ€â€ä¸æ˜¯ä¸ºäº†ç»•è¿‡ç±»å‹æ£€æŸ¥ï¼ˆå› ä¸ºå®ƒæ²¡æœ‰é™æ€ç±»å‹æ£€æŸ¥ï¼‰ï¼Œè€Œæ˜¯ä¸ºäº†å®ç°â€œæ¥å£ä¸€è‡´æ€§â€å’Œâ€œè¡Œä¸ºæŠ½è±¡â€ï¼Œä»è€Œæå‡ä»£ç çš„å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚**


## ä¸€ã€å¤šæ€çš„æœ¬è´¨ï¼šä¸æ˜¯â€œç±»å‹è½¬æ¢â€ï¼Œè€Œæ˜¯â€œç»Ÿä¸€è¡Œä¸ºæ¥å£â€

å¾ˆå¤šäººè¯¯ä»¥ä¸ºå¤šæ€ = â€œç”¨åŸºç±»æŒ‡é’ˆè°ƒç”¨å­ç±»æ–¹æ³•â€ï¼Œä½†è¿™åªæ˜¯ C++ çš„**å®ç°æ‰‹æ®µ**ã€‚

**å¤šæ€çš„çœŸæ­£ç›®çš„**æ˜¯ï¼š

> **è®©ä¸åŒç±»å‹çš„å¯¹è±¡ï¼Œèƒ½å¤Ÿä»¥ç›¸åŒçš„æ–¹å¼è¢«ä½¿ç”¨ï¼Œåªè¦å®ƒä»¬â€œè¡¨ç°å¾—åƒâ€æŸç§è§’è‰²ã€‚**

è¿™åœ¨ä»»ä½•è¯­è¨€ä¸­éƒ½æœ‰ä»·å€¼â€”â€”æ— è®ºæœ‰æ²¡æœ‰ç±»å‹ç³»ç»Ÿã€‚



## äºŒã€C++ vs Pythonï¼šå¤šæ€çš„â€œé©±åŠ¨åŠ›â€ä¸åŒ


| ç»´åº¦                 | C++                                                    | Python                                            |
| -------------------- | ------------------------------------------------------ | ------------------------------------------------- |
| **ç±»å‹æ£€æŸ¥æ—¶æœº**     | ç¼–è¯‘æœŸï¼ˆé™æ€ç±»å‹ï¼‰                                     | è¿è¡Œæ—¶ï¼ˆåŠ¨æ€ç±»å‹ï¼‰                                |
| **å¤šæ€çš„â€œå¿…è¦æ€§â€** | âœ… å¿…é¡»æ˜¾å¼è®¾è®¡ï¼ˆè™šå‡½æ•° + åŸºç±»æŒ‡é’ˆï¼‰æ‰èƒ½å®ç°è¿è¡Œæ—¶å¤šæ€ | âœ… é»˜è®¤å°±æ”¯æŒï¼ˆåªè¦ä½ æœ‰åŒåæ–¹æ³•ï¼‰                 |
| **ä¸»è¦åŠ¨æœº**         | ç»•è¿‡é™æ€ç±»å‹é™åˆ¶ï¼Œå®ç°è¿è¡Œæ—¶è¡Œä¸ºåˆ†å‘                   | è¡¨è¾¾â€œé¸­å­ç±»å‹â€ï¼ˆDuck Typingï¼‰ï¼šå…³æ³¨è¡Œä¸ºè€Œéç±»å‹ |
| **é”™è¯¯æš´éœ²æ—¶æœº**     | ç¼–è¯‘æ—¶æŠ¥é”™ï¼ˆå¦‚æœè®¾è®¡ä¸å½“ï¼Œå¯èƒ½è¿è¡Œæ—¶å´©æºƒï¼‰             | è¿è¡Œæ—¶æŠ¥é”™ï¼ˆè°ƒç”¨ä¸å­˜åœ¨çš„æ–¹æ³•æ‰å‡ºé”™ï¼‰              |


## ä¸‰ã€Python çš„â€œé¸­å­ç±»å‹â€å°±æ˜¯å¤šæ€ï¼

Python ç¤¾åŒºå¸¸è¯´ï¼š

> **â€œIf it walks like a duck and quacks like a duck, then it must be a duck.â€**

è¿™å°±æ˜¯**éšå¼å¤šæ€**ã€‚

### ç¤ºä¾‹ï¼šç»˜åˆ¶å›¾å½¢ï¼ˆPython ç‰ˆï¼‰

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">python</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code data-spm-anchor-id="5176.28103460.0.i83.228c4fa5LO1oSx"><span class="token">class</span><span> </span><span class="token">Circle</span><span class="token">:</span><span>
</span><span>    </span><span class="token">def</span><span> </span><span class="token">draw</span><span class="token">(</span><span>self</span><span class="token">)</span><span class="token">:</span><span>
</span><span>        </span><span class="token">print</span><span class="token">(</span><span class="token">"ç»˜åˆ¶åœ†å½¢"</span><span class="token">)</span><span>
</span>
<span></span><span class="token">class</span><span> </span><span class="token">Rectangle</span><span class="token">:</span><span>
</span><span>    </span><span class="token">def</span><span> </span><span class="token">draw</span><span class="token">(</span><span>self</span><span class="token">)</span><span class="token">:</span><span>
</span><span>        </span><span class="token">print</span><span class="token">(</span><span class="token">"ç»˜åˆ¶çŸ©å½¢"</span><span class="token">)</span><span>
</span>
<span></span><span class="token"># é€šç”¨å‡½æ•°ï¼šä¸å…³å¿ƒå¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹ï¼Œåªå…³å¿ƒæœ‰æ²¡æœ‰ draw æ–¹æ³•</span><span>
</span><span></span><span class="token">def</span><span> </span><span class="token">render_shapes</span><span class="token">(</span><span>shapes</span><span class="token">)</span><span class="token">:</span><span>
</span><span>    </span><span class="token">for</span><span> shape </span><span class="token">in</span><span> shapes</span><span class="token">:</span><span>
</span><span>        shape</span><span class="token">.</span><span>draw</span><span class="token">(</span><span class="token">)</span><span>  </span><span class="token"># â† å¤šæ€ï¼è‡ªåŠ¨è°ƒç”¨å¯¹åº”ç±»å‹çš„ draw</span><span>
</span>
<span></span><span class="token"># ä½¿ç”¨</span><span>
</span><span>shapes </span><span class="token">=</span><span> </span><span class="token">[</span><span>Circle</span><span class="token">(</span><span class="token">)</span><span class="token">,</span><span> Rectangle</span><span class="token">(</span><span class="token">)</span><span class="token">,</span><span> Circle</span><span class="token">(</span><span class="token">)</span><span class="token">]</span><span>
</span><span>render_shapes</span><span class="token">(</span><span>shapes</span><span class="token">)</span></code></pre></div></div></pre>

âœ… è¾“å‡ºï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">text</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span>ç»˜åˆ¶åœ†å½¢
</span>ç»˜åˆ¶çŸ©å½¢
ç»˜åˆ¶åœ†å½¢</code></pre></div></div></pre>

è¿™é‡Œï¼š

* æ²¡æœ‰ç»§æ‰¿
* æ²¡æœ‰åŸºç±»
* æ²¡æœ‰ç±»å‹å£°æ˜
* ä½†**å¤šæ€è‡ªç„¶å‘ç”Ÿ**ï¼

> ğŸ’¡ Python çš„å¤šæ€æ˜¯â€œç»“æ„åŒ–çš„â€ï¼ˆstructural typingï¼‰ï¼š**åªè¦ç»“æ„ï¼ˆæ–¹æ³•/å±æ€§ï¼‰åŒ¹é…ï¼Œå°±èƒ½äº’æ¢ä½¿ç”¨ã€‚**

---

## â“ é‚£ä¸ºä»€ä¹ˆ Python è¿˜éœ€è¦â€œåˆ»æ„å®ç°å¤šæ€â€ï¼Ÿ

å› ä¸ºï¼š

> **å³ä½¿æ²¡æœ‰ç¼–è¯‘å™¨å¼ºåˆ¶ä½ ï¼Œè‰¯å¥½çš„è®¾è®¡ä»ç„¶éœ€è¦â€œå¥‘çº¦â€ï¼ˆcontractï¼‰ã€‚**

### é—®é¢˜ï¼šå¦‚æœæ²¡æœ‰çº¦å®šï¼Œä»£ç ä¼šå˜å¾—è„†å¼±

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">python</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span class="token">def</span><span> </span><span class="token">save_data</span><span class="token">(</span><span>obj</span><span class="token">)</span><span class="token">:</span><span>
</span><span>    obj</span><span class="token">.</span><span>save_to_file</span><span class="token">(</span><span class="token">"backup.txt"</span><span class="token">)</span><span>  </span><span class="token"># å‡è®¾æ‰€æœ‰å¯¹è±¡éƒ½æœ‰è¿™ä¸ªæ–¹æ³•</span></code></pre></div></div></pre>

ä½†å¦‚æœæœ‰äººä¼ å…¥ä¸€ä¸ªæ²¡æœ‰ `save_to_file` çš„å¯¹è±¡ï¼Ÿâ†’ **è¿è¡Œæ—¶å´©æºƒï¼**

### è§£å†³æ–¹æ¡ˆï¼šç”¨æŠ½è±¡åŸºç±»ï¼ˆABCï¼‰è¡¨è¾¾â€œæ„å›¾â€

Python æä¾›äº† `abc` æ¨¡å—æ¥æ¨¡æ‹Ÿâ€œæ¥å£â€ï¼š

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">python</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span class="token">from</span><span> abc </span><span class="token">import</span><span> ABC</span><span class="token">,</span><span> abstractmethod
</span>
<span></span><span class="token">class</span><span> </span><span class="token">Savable</span><span class="token">(</span><span>ABC</span><span class="token">)</span><span class="token">:</span><span>
</span><span>    </span><span class="token decorator annotation">@abstractmethod</span><span>
</span><span>    </span><span class="token">def</span><span> </span><span class="token">save_to_file</span><span class="token">(</span><span>self</span><span class="token">,</span><span> path</span><span class="token">:</span><span> </span><span class="token builtin">str</span><span class="token">)</span><span class="token">:</span><span>
</span><span>        </span><span class="token">pass</span><span>
</span>
<span></span><span class="token">class</span><span> </span><span class="token">Document</span><span class="token">(</span><span>Savable</span><span class="token">)</span><span class="token">:</span><span>
</span><span>    </span><span class="token">def</span><span> </span><span class="token">save_to_file</span><span class="token">(</span><span>self</span><span class="token">,</span><span> path</span><span class="token">)</span><span class="token">:</span><span>
</span><span>        </span><span class="token">print</span><span class="token">(</span><span class="token string-interpolation">f"ä¿å­˜æ–‡æ¡£åˆ° </span><span class="token string-interpolation interpolation">{</span><span class="token string-interpolation interpolation">path</span><span class="token string-interpolation interpolation">}</span><span class="token string-interpolation">"</span><span class="token">)</span><span>
</span>
<span></span><span class="token">class</span><span> </span><span class="token">Image</span><span class="token">(</span><span>Savable</span><span class="token">)</span><span class="token">:</span><span>
</span><span>    </span><span class="token">def</span><span> </span><span class="token">save_to_file</span><span class="token">(</span><span>self</span><span class="token">,</span><span> path</span><span class="token">)</span><span class="token">:</span><span>
</span><span>        </span><span class="token">print</span><span class="token">(</span><span class="token string-interpolation">f"ä¿å­˜å›¾ç‰‡åˆ° </span><span class="token string-interpolation interpolation">{</span><span class="token string-interpolation interpolation">path</span><span class="token string-interpolation interpolation">}</span><span class="token string-interpolation">"</span><span class="token">)</span><span>
</span>
<span></span><span class="token"># ç°åœ¨ä½ å¯ä»¥â€œçº¦å®šâ€ï¼šåªæœ‰å®ç° Savable çš„ç±»æ‰èƒ½è¢« save_data ä½¿ç”¨</span><span>
</span><span></span><span class="token">def</span><span> </span><span class="token">save_data</span><span class="token">(</span><span>obj</span><span class="token">:</span><span> Savable</span><span class="token">)</span><span class="token">:</span><span>  </span><span class="token"># ç±»å‹æç¤º + æŠ½è±¡åŸºç±» = æ›´å®‰å…¨çš„å¤šæ€</span><span>
</span><span>    obj</span><span class="token">.</span><span>save_to_file</span><span class="token">(</span><span class="token">"backup.txt"</span><span class="token">)</span></code></pre></div></div></pre>

è™½ç„¶ Python ä¸å¼ºåˆ¶æ£€æŸ¥ï¼Œä½†ï¼š

* **ç±»å‹æç¤ºï¼ˆType Hintsï¼‰** è®© IDE å’Œ `mypy` èƒ½åšé™æ€æ£€æŸ¥ï¼›
* **æŠ½è±¡åŸºç±»** åœ¨å®ä¾‹åŒ–æ—¶æ£€æŸ¥æ˜¯å¦å®ç°äº†æ‰€æœ‰æ–¹æ³•ï¼›
* **ä»£ç å¯è¯»æ€§æå‡**ï¼šä¸€çœ‹å°±çŸ¥é“â€œè¿™ä¸ªå‡½æ•°æœŸæœ›ä»€ä¹ˆè¡Œä¸ºâ€ã€‚


## å››ã€å®é™…åº”ç”¨åœºæ™¯ï¼ˆPython ä¸­ä¸ºä½•éœ€è¦å¤šæ€ï¼‰

### åœºæ™¯1ï¼šæ’ä»¶ç³»ç»Ÿ

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">python</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span class="token"># æ‰€æœ‰æ’ä»¶å¿…é¡»å®ç° process(data) æ–¹æ³•</span><span>
</span><span>plugins </span><span class="token">=</span><span> </span><span class="token">[</span><span>PluginA</span><span class="token">(</span><span class="token">)</span><span class="token">,</span><span> PluginB</span><span class="token">(</span><span class="token">)</span><span class="token">,</span><span> CustomPlugin</span><span class="token">(</span><span class="token">)</span><span class="token">]</span><span>
</span>
<span></span><span class="token">for</span><span> plugin </span><span class="token">in</span><span> plugins</span><span class="token">:</span><span>
</span><span>    result </span><span class="token">=</span><span> plugin</span><span class="token">.</span><span>process</span><span class="token">(</span><span>data</span><span class="token">)</span><span>  </span><span class="token"># â† å¤šæ€ï¼šä¸åŒæ’ä»¶ä¸åŒå¤„ç†é€»è¾‘</span></code></pre></div></div></pre>

### åœºæ™¯2ï¼šç­–ç•¥æ¨¡å¼

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">python</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span class="token">class</span><span> </span><span class="token">PaymentProcessor</span><span class="token">:</span><span>
</span><span>    </span><span class="token">def</span><span> </span><span class="token">__init__</span><span class="token">(</span><span>self</span><span class="token">,</span><span> strategy</span><span class="token">)</span><span class="token">:</span><span>
</span><span>        self</span><span class="token">.</span><span>strategy </span><span class="token">=</span><span> strategy  </span><span class="token"># å¯èƒ½æ˜¯ Alipay, WeChatPay, PayPal...</span><span>
</span>
<span>    </span><span class="token">def</span><span> </span><span class="token">pay</span><span class="token">(</span><span>self</span><span class="token">,</span><span> amount</span><span class="token">)</span><span class="token">:</span><span>
</span><span>        self</span><span class="token">.</span><span>strategy</span><span class="token">.</span><span>pay</span><span class="token">(</span><span>amount</span><span class="token">)</span><span>  </span><span class="token"># â† å¤šæ€è°ƒç”¨</span></code></pre></div></div></pre>

### åœºæ™¯3ï¼šæµ‹è¯• Mock

<pre><div class="contain-layout-style rounded-12 bg-capsule relative flex min-h-[2em] flex-col"><div class="rounded-[12px] bg-[#fff]"><div class="h-[36px] sticky top-0 z-10 bg-primary"><div class="flex items-center h-[36px] px-3 text-12 align-middle border border-[var(--ty-line-border)]"><span class="font-medium mr-auto first-letter:uppercase text-12 text-[rgba(17,17,51,0.7)]">python</span><div class="flex items-center gap-4"><div class="flex items-center justify-center gap-[2px] cursor-pointer text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4 cursor-pointer"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-editingTools-line"></use></svg></span><span class="mt-[2px] text-[12px]">ç¼–è¾‘</span></div><span role="img" tabindex="-1" class="anticon flex cursor-pointer items-center text-16 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-copy-line"></use></svg></span><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-moon-line"></use></svg></span></div><div class="flex cursor-pointer gap-1 text-[rgba(17,17,51,0.7)] hover:text-[#4433ff]"><span role="img" class="anticon text-16 size-4"><svg width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><use xlink:href="#pcicon-up-line"></use></svg></span></div></div></div></div><pre class="sc-bRKDuR jCSJQZ"><code><span class="token"># æ­£å¸¸ç”¨ DatabaseLogger</span><span>
</span><span></span><span class="token"># æµ‹è¯•æ—¶ç”¨ MockLoggerï¼ˆåªè¦ä¹Ÿæœ‰ log() æ–¹æ³•ï¼‰</span><span>
</span><span>logger </span><span class="token">=</span><span> MockLogger</span><span class="token">(</span><span class="token">)</span><span> </span><span class="token">if</span><span> testing </span><span class="token">else</span><span> DatabaseLogger</span><span class="token">(</span><span class="token">)</span><span>
</span><span>logger</span><span class="token">.</span><span>log</span><span class="token">(</span><span class="token">"Hello"</span><span class="token">)</span><span>  </span><span class="token"># å¤šæ€è®©æ›¿æ¢æ— ç¼</span></code></pre></div></div></pre>



## äº”ã€æ€»ç»“ï¼šä¸ºä»€ä¹ˆ Python ä¹Ÿéœ€è¦å¤šæ€ï¼Ÿ


| åŸå›             | è¯´æ˜                                       |
| --------------- | ------------------------------------------ |
| **1. è¡Œä¸ºæŠ½è±¡** | å…³æ³¨â€œèƒ½åšä»€ä¹ˆâ€ï¼Œè€Œä¸æ˜¯â€œæ˜¯ä»€ä¹ˆç±»å‹â€     |
| **2. ä»£ç å¤ç”¨** | å†™ä¸€æ¬¡é€šç”¨é€»è¾‘ï¼Œé€‚é…æ‰€æœ‰ç¬¦åˆæ¥å£çš„å¯¹è±¡     |
| **3. å¯æ‰©å±•æ€§** | æ–°å¢ç±»å‹æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç ï¼ˆå¼€é—­åŸåˆ™ï¼‰       |
| **4. å¯æµ‹è¯•æ€§** | å®¹æ˜“ç”¨ Mock æ›¿æ¢çœŸå®ä¾èµ–                   |
| **5. è®¾è®¡æ¸…æ™°** | é€šè¿‡æŠ½è±¡åŸºç±»æˆ–åè®®ï¼ˆProtocolï¼‰è¡¨è¾¾è®¾è®¡æ„å›¾ |

> ğŸŒŸ **å¤šæ€ä¸æ˜¯ C++ çš„ä¸“åˆ©ï¼Œè€Œæ˜¯é¢å‘å¯¹è±¡å’Œè½¯ä»¶å·¥ç¨‹çš„æ ¸å¿ƒæ€æƒ³ã€‚**
> å®ƒçš„å­˜åœ¨ä¸ä¾èµ–äºâ€œæ˜¯å¦æœ‰ç±»å‹æ£€æŸ¥â€ï¼Œè€Œä¾èµ–äºâ€œæ˜¯å¦éœ€è¦ç»Ÿä¸€å¤„ç†ä¸åŒä½†è¡Œä¸ºç›¸ä¼¼çš„å¯¹è±¡â€ã€‚


## æœ€åä¸€å¥è¯

> **C++ ç”¨â€œè™šå‡½æ•° + åŸºç±»æŒ‡é’ˆâ€æ¥ *å®ç°* å¤šæ€ï¼Œæ˜¯å› ä¸ºå®ƒè¢«é™æ€ç±»å‹æŸç¼šï¼›
> Python ç”¨â€œé¸­å­ç±»å‹ + åè®®â€æ¥ *è¡¨è¾¾* å¤šæ€ï¼Œæ˜¯å› ä¸ºå®ƒè¿½æ±‚çµæ´»æ€§ä¸ç®€æ´ã€‚
> ä½†ä¸¤è€…è¿½æ±‚çš„ç›®æ ‡ä¸€è‡´ï¼šå†™å‡ºæ›´é€šç”¨ã€æ›´å¯ç»´æŠ¤çš„ä»£ç ã€‚**

æ‰€ä»¥ï¼Œ**å¤šæ€ä¸æ˜¯è¯­æ³•ç‰¹æ€§ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡å“²å­¦** â€”â€” æ— è®ºè¯­è¨€æœ‰æ²¡æœ‰ç±»å‹ç³»ç»Ÿï¼Œå®ƒéƒ½è‡³å…³é‡è¦ã€‚
